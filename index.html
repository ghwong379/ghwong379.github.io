<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"ghwong379.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.21.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜尋...","empty":"我們無法找到任何有關 ${query} 的搜索結果","hits_time":"找到 ${hits} 個搜索結果（用時 ${time} 毫秒）","hits":"找到 ${hits} 個搜索結果"}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="Keep it simple">
<meta property="og:url" content="https://ghwong379.github.io/index.html">
<meta property="og:site_name" content="Keep it simple">
<meta property="og:locale" content="zh_TW">
<meta property="article:author" content="Kala 雞腿堡">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://ghwong379.github.io/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-TW","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Keep it simple</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Keep it simple</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">學習，再學習</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜尋" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          本站概要
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Kala 雞腿堡</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">91</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">分類</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">41</span>
        <span class="site-state-item-name">標籤</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ghwong379.github.io/2024/11/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Kala 雞腿堡">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Keep it simple">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Keep it simple">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/11/hello-world/" class="post-title-link" itemprop="url">Hello World</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>

      <time title="創建時間：2024-11-04 11:17:45" itemprop="dateCreated datePublished" datetime="2024-11-04T11:17:45+08:00">2024-11-04</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ghwong379.github.io/2024/11/%E5%9C%8B%E5%AE%B6%E7%82%BA%E4%BD%95%E6%9C%83%E5%A4%B1%E6%95%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Kala 雞腿堡">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Keep it simple">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Keep it simple">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/11/%E5%9C%8B%E5%AE%B6%E7%82%BA%E4%BD%95%E6%9C%83%E5%A4%B1%E6%95%97/" class="post-title-link" itemprop="url">國家為何會失敗</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>

      <time title="創建時間：2024-11-01 14:12:00" itemprop="dateCreated datePublished" datetime="2024-11-01T14:12:00+08:00">2024-11-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新於</span>
      <time title="修改時間：2024-11-04 11:18:33" itemprop="dateModified" datetime="2024-11-04T11:18:33+08:00">2024-11-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分類於</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/book/" itemprop="url" rel="index"><span itemprop="name">book</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="CHATGPT"><a href="#CHATGPT" class="headerlink" title="CHATGPT"></a>CHATGPT</h1><p>《Why Nations Fail: The Origins of Power, Prosperity, and Poverty》（中譯：《國富國窮》）是哈佛大學教授Daron Acemoglu與麻省理工學院教授James A. Robinson合作的經典著作。此書探討了國家為何會繁榮或衰敗的根本原因，並提出了兩位作者的「制度理論」假說。以下是書中幾個主要的重點摘要：</p>
<ol>
<li>制度的重要性：包容性制度 vs. 掠奪性制度<br>包容性制度（Inclusive Institutions）：這種制度鼓勵個人參與經濟活動，保護財產權，並允許創新和競爭。包容性制度使得公民有機會投資教育、企業，並在經濟發展中受益。例如，英國在光榮革命（1688年）後的政治轉型，使得權力更加分散，保護了個人財產權，並鼓勵創新，進而推動工業革命。<br>掠奪性制度（Extractive Institutions）：這類制度則以少數菁英或統治階層的利益為中心，限制大多數人參與經濟，並剝削其資源。這類制度使得經濟發展受限，並容易引發政治衝突與經濟崩潰。典型案例是殖民地時期的西班牙在拉丁美洲建立的制度，僅為了開採當地的自然資源，導致當地居民被剝削，最終引發了嚴重的經濟不平等和長期落後。</li>
<li>歷史偶然性與「關鍵點」的作用<br>書中強調「關鍵點（Critical Junctures）」的角色，指的是一些重要的歷史時刻，改變了國家制度的走向。例如，黑死病（14世紀）減少了歐洲勞動人口，導致勞工需求增加，讓一些國家轉向包容性制度，逐漸發展為富裕國家。然而在俄羅斯，領主控制的加強讓農民進一步被剝削，使其發展成了掠奪性制度。</li>
<li>經濟與政治制度的相互影響<br>經濟制度與政治制度息息相關，兩者互相影響並能形成「惡性循環」或「良性循環」。掠奪性政治制度通常配合掠奪性經濟制度來維持權力，導致貧窮與不穩定，而包容性政治制度則鼓勵包容性經濟發展，形成可持續發展的經濟基礎。</li>
<li>菁英與創新之間的張力<br>菁英階層往往會阻礙創新，因為新的技術與經濟模式可能動搖其既得利益。在書中，Acemoglu與Robinson指出，許多掠奪性制度的國家雖擁有豐富的自然資源，但仍難以發展，因為菁英階層往往壓制創新，避免挑戰其地位，導致經濟停滯。</li>
<li>案例研究<br>書中引用了多個案例來比較不同國家、不同制度的發展狀況。例如，南韓與北韓的分裂便是一個極好的例子，展示了在類似的文化與地理條件下，因制度不同而導致的經濟差異。南韓採取包容性制度，從而成為經濟發展成功的國家，而北韓因採取掠奪性制度，則導致貧困與專制。</li>
<li>為何外援無法真正幫助貧窮國家<br>Acemoglu與Robinson認為，外援常無法真正解決貧窮問題，因為它並未改變根本性的掠奪性制度。援助若不針對制度變革，反而可能進一步鞏固菁英階層的權力，甚至加深制度問題。</li>
<li>制度變革的可能性<br>變革的可能性取決於公民對制度的挑戰能力及其參與程度。書中指出，當公民積極參與並抗衡掠奪性制度時，有助於推動包容性制度的建立。然而這種過程往往充滿挑戰且耗時，必須克服既得利益的阻力。</li>
<li>地理與文化的影響較小<br>雖然地理條件和文化背景確實有影響，但兩位作者認為，制度因素更為關鍵。例如，他們認為非洲的貧困並非源於地理或文化，而是殖民時期遺留的掠奪性制度。<br>總結來說，《Why Nations Fail》闡述了制度在國家經濟成敗中的決定性作用，特別是強調包容性制度對繁榮的影響，而掠奪性制度則帶來貧窮。該書透過深入的歷史案例分析，說明制度如何成為一國富強或衰敗的根本原因。</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ghwong379.github.io/2024/07/%E9%80%9F%E9%A3%9F%E9%81%8A%E6%88%B2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Kala 雞腿堡">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Keep it simple">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Keep it simple">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/%E9%80%9F%E9%A3%9F%E9%81%8A%E6%88%B2/" class="post-title-link" itemprop="url">速食遊戲</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>

      <time title="創建時間：2024-07-13 19:00:00" itemprop="dateCreated datePublished" datetime="2024-07-13T19:00:00+08:00">2024-07-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新於</span>
      <time title="修改時間：2024-11-04 11:18:35" itemprop="dateModified" datetime="2024-11-04T11:18:35+08:00">2024-11-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分類於</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/movie/" itemprop="url" rel="index"><span itemprop="name">movie</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="/hexoblog/images/2024-49.png" alt="upload successful"></p>
<p>《速食遊戲》(The Founder) 是一部2016年上映的傳記電影，由John Lee Hancock執導，Michael Keaton主演。電影講述了麥當勞 (McDonald’s) 的創辦過程，重點放在Ray Kroc 如何將麥當勞兄弟創立的餐廳轉變成全球速食連鎖帝國的故事。</p>
<p>劇情概要<br>故事開始於1954年，Ray Kroc (Michael Keaton 飾) 是一名銷售員，偶然發現了由Richard 和 Maurice McDonald 創辦的一家成功的漢堡餐廳。餐廳憑藉其高效的運作和簡單的菜單吸引了大量顧客。Kroc 覺得這是個絕佳的商機，於是說服麥當勞兄弟讓他加盟並進行全國擴展。</p>
<p>隨著 Kroc 將麥當勞推向全國，他與麥當勞兄弟之間的矛盾也日益加深。最終，Kroc 成功地將麥當勞變成一個全球性的品牌，但過程中也展示了商業世界的激烈競爭和道德複雜性。</p>
<p>主要角色<br>Ray Kroc (Michael Keaton 飾) - 一位野心勃勃的銷售員，最終成為麥當勞的創始人。<br>Richard “Dick” McDonald (Nick Offerman 飾) - 麥當勞兄弟之一，餐廳的聯合創始人，注重品質和運營效率。<br>Maurice “Mac” McDonald (John Carroll Lynch 飾) - 麥當勞兄弟之一，專注於餐廳的經營和管理。<br>Ethel Fleming Kroc (Laura Dern 飾) - Ray Kroc 的妻子，對他的事業既支持又疑惑。<br>主題與影響<br>電影深入探討了企業擴張過程中的道德問題、商業競爭的激烈性以及成功的代價。《速食遊戲》不僅展示了麥當勞從一個小餐廳到全球連鎖品牌的成長歷程，還揭示了商業世界的殘酷現實和人性複雜的一面。</p>
<p>評價<br>《速食遊戲》上映後獲得了影評人的好評，尤其是 Michael Keaton 對 Ray Kroc 的精湛演技受到了廣泛讚譽。電影既具有娛樂性，又提供了深刻的商業教訓，對於對商業歷史和企業發展感興趣的觀眾來說，這是一部不容錯過的電影。</p>
<p>如果你對企業創業史和商業策略感興趣，這部電影將會提供許多值得深思的內容。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ghwong379.github.io/2024/07/The-greatest-Showman/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Kala 雞腿堡">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Keep it simple">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Keep it simple">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/The-greatest-Showman/" class="post-title-link" itemprop="url">The greatest Showman</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>

      <time title="創建時間：2024-07-13 18:56:00" itemprop="dateCreated datePublished" datetime="2024-07-13T18:56:00+08:00">2024-07-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新於</span>
      <time title="修改時間：2024-11-04 11:18:35" itemprop="dateModified" datetime="2024-11-04T11:18:35+08:00">2024-11-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分類於</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/movie/" itemprop="url" rel="index"><span itemprop="name">movie</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="/hexoblog/images/2024-48.png" alt="upload successful"></p>
<p>《大娛樂家》(The Greatest Showman) 是一部於 2017 年上映的美國音樂劇電影，由 Michael Gracey 執導，Hugh Jackman、Michelle Williams、Zac Efron、Zendaya 等主演。電影劇情靈感來自美國馬戲團創辦人 P.T. Barnum 的生平，講述他如何從一個貧困的年輕人成為一位備受尊敬的娛樂大亨。</p>
<p>劇情概述<br>P.T. Barnum (Hugh Jackman 飾) 是一個富有創意並充滿野心的夢想家。他從一個低階工作開始，最後創立了一個非凡的馬戲團，將各種具有特殊才能的人聚集在一起，並創造了全新的娛樂形式。電影中還涉及了 Barnum 與他的家庭、夥伴們的關係，以及他們共同面對的挑戰和成功。</p>
<p>主要角色<br>P.T. Barnum (Hugh Jackman 飾) - 主角，一個富有創意的夢想家，馬戲團的創辦人。<br>Charity Barnum (Michelle Williams 飾) - Barnum 的妻子，支持他的夢想並在背後默默付出。<br>Phillip Carlyle (Zac Efron 飾) - Barnum 的合作夥伴，幫助他提升馬戲團的形象。<br>Anne Wheeler (Zendaya 飾) - 馬戲團的空中飛人，與 Carlyle 發展出一段浪漫的關係。<br>Jenny Lind (Rebecca Ferguson 飾) - 著名的歌唱家，被 Barnum 邀請加入他的演出。<br>音樂與獎項<br>電影中的歌曲由 Benj Pasek 和 Justin Paul 創作，其中包括 “This Is Me,” “The Greatest Show,” 和 “Rewrite the Stars” 等。特別是 “This Is Me” 這首歌贏得了第75屆金球獎最佳原創歌曲獎，並被提名第90屆奧斯卡金像獎最佳原創歌曲。</p>
<p>主題與影響<br>《大娛樂家》通過其感人的故事情節、動人的音樂和華麗的視覺效果，探討了夢想、家庭和包容的重要性。這部電影不僅展示了 P.T. Barnum 的創意和毅力，還強調了每個人都應該被尊重和接受的價值觀。</p>
<p>評價<br>電影上映後獲得了觀眾和影評人的混合評價。雖然一些評論家對其歷史真實性提出質疑，但觀眾普遍讚賞其娛樂性和音樂表演。該片在票房上也取得了相當的成功，成為一部具有文化影響力的音樂劇電影。</p>
<p>如果你對這部電影感興趣，強烈推薦觀看，不僅能享受精湛的演技和動聽的音樂，還能體驗一段充滿靈感和希望的故事。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ghwong379.github.io/2024/05/%E5%AE%B6%E7%9A%84%E9%97%9C%E4%BF%82%E4%BB%A5%E8%8E%AB%E5%85%A7%E7%82%BA%E4%B8%AD%E5%BF%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Kala 雞腿堡">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Keep it simple">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Keep it simple">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/05/%E5%AE%B6%E7%9A%84%E9%97%9C%E4%BF%82%E4%BB%A5%E8%8E%AB%E5%85%A7%E7%82%BA%E4%B8%AD%E5%BF%83/" class="post-title-link" itemprop="url">畫家的關係以莫內為中心</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>

      <time title="創建時間：2024-05-20 09:47:00" itemprop="dateCreated datePublished" datetime="2024-05-20T09:47:00+08:00">2024-05-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新於</span>
      <time title="修改時間：2024-11-04 11:18:36" itemprop="dateModified" datetime="2024-11-04T11:18:36+08:00">2024-11-04</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="/hexoblog/images/2024-45.png" alt="upload successful"></p>
<p><img src="/hexoblog/images/2024-46.png" alt="upload successful"></p>
<p><img src="/hexoblog/images/2024-47.png" alt="upload successful"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>莫內影響關係圖<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">		<span class="selector-tag">body</span>&#123;</span></span><br><span class="line"><span class="language-css">		<span class="attribute">font-size</span>: <span class="number">10px</span>;&#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.node</span> <span class="selector-tag">circle</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">stroke</span>: <span class="number">#fff</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">stroke-width</span>: <span class="number">1.5px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.node</span> <span class="selector-tag">image</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.node</span> <span class="selector-tag">text</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font</span>: <span class="number">12px</span> sans-serif;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-anchor</span>: middle;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.link</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">fill</span>: none;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">stroke</span>: <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">stroke-width</span>: <span class="number">2px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://d3js.org/d3.v7.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">&quot;1200&quot;</span> <span class="attr">height</span>=<span class="string">&quot;1200&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">defs</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">marker</span> <span class="attr">id</span>=<span class="string">&quot;arrow&quot;</span> <span class="attr">markerWidth</span>=<span class="string">&quot;5&quot;</span> <span class="attr">markerHeight</span>=<span class="string">&quot;10&quot;</span> <span class="attr">refX</span>=<span class="string">&quot;12&quot;</span> <span class="attr">refY</span>=<span class="string">&quot;3&quot;</span> <span class="attr">orient</span>=<span class="string">&quot;auto&quot;</span> <span class="attr">markerUnits</span>=<span class="string">&quot;strokeWidth&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">&quot;M0,0 L0,3 L6, 3z&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;#c0c&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">marker</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 定义用于裁剪的圆形路径 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">clipPath</span> <span class="attr">id</span>=<span class="string">&quot;circleClip&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">&quot;0&quot;</span> <span class="attr">cy</span>=<span class="string">&quot;0&quot;</span> <span class="attr">r</span>=<span class="string">&quot;17&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">circle</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">clipPath</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">defs</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> width = <span class="number">1200</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> height = <span class="number">1200</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> data = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">nodes</span>: [</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>: <span class="string">&quot;Eugène Boudin&quot;</span>, <span class="attr">chinese</span>: <span class="string">&quot;歐仁·布丹&quot;</span>, <span class="attr">years</span>: <span class="string">&quot;1824-1898&quot;</span>, <span class="attr">style</span>: <span class="string">&quot;印象派&quot;</span>, <span class="attr">image</span>: <span class="string">&quot;Eugène_Boudin.jpg&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>: <span class="string">&quot;John Constable&quot;</span>, <span class="attr">chinese</span>: <span class="string">&quot;約翰·康斯特布爾&quot;</span>, <span class="attr">years</span>: <span class="string">&quot;1776-1837&quot;</span>, <span class="attr">style</span>: <span class="string">&quot;浪漫主義&quot;</span>, <span class="attr">image</span>: <span class="string">&quot;John_Constable.jpg&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>: <span class="string">&quot;J.M.W. Turner&quot;</span>, <span class="attr">chinese</span>: <span class="string">&quot;威廉·透納&quot;</span>, <span class="attr">years</span>: <span class="string">&quot;1775-1851&quot;</span>, <span class="attr">style</span>: <span class="string">&quot;浪漫主義&quot;</span>, <span class="attr">image</span>: <span class="string">&quot;J.M.W._Turner.jpg&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>: <span class="string">&quot;Gustave Courbet&quot;</span>, <span class="attr">chinese</span>: <span class="string">&quot;古斯塔夫·庫爾貝&quot;</span>, <span class="attr">years</span>: <span class="string">&quot;1819-1877&quot;</span>, <span class="attr">style</span>: <span class="string">&quot;現實主義&quot;</span>, <span class="attr">image</span>: <span class="string">&quot;Gustave_Courbet.jpg&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>: <span class="string">&quot;Claude Monet&quot;</span>, <span class="attr">chinese</span>: <span class="string">&quot;克勞德·莫內&quot;</span>, <span class="attr">years</span>: <span class="string">&quot;1840-1926&quot;</span>, <span class="attr">style</span>: <span class="string">&quot;印象派&quot;</span>, <span class="attr">image</span>: <span class="string">&quot;Claude_Monet.jpg&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>: <span class="string">&quot;Auguste Renoir&quot;</span>, <span class="attr">chinese</span>: <span class="string">&quot;奧古斯特·雷諾阿&quot;</span>, <span class="attr">years</span>: <span class="string">&quot;1841-1919&quot;</span>, <span class="attr">style</span>: <span class="string">&quot;印象派&quot;</span>, <span class="attr">image</span>: <span class="string">&quot;Auguste_Renoir.jpg&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>: <span class="string">&quot;Camille Pissarro&quot;</span>, <span class="attr">chinese</span>: <span class="string">&quot;卡米耶·畢沙羅&quot;</span>, <span class="attr">years</span>: <span class="string">&quot;1830-1903&quot;</span>, <span class="attr">style</span>: <span class="string">&quot;印象派&quot;</span>, <span class="attr">image</span>: <span class="string">&quot;Camille_Pissarro.jpg&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>: <span class="string">&quot;Édouard Manet&quot;</span>, <span class="attr">chinese</span>: <span class="string">&quot;愛德華·馬奈&quot;</span>, <span class="attr">years</span>: <span class="string">&quot;1832-1883&quot;</span>, <span class="attr">style</span>: <span class="string">&quot;印象派&quot;</span>, <span class="attr">image</span>: <span class="string">&quot;Édouard_Manet.jpg&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>: <span class="string">&quot;Georges Seurat&quot;</span>, <span class="attr">chinese</span>: <span class="string">&quot;喬治·修拉&quot;</span>, <span class="attr">years</span>: <span class="string">&quot;1859-1891&quot;</span>, <span class="attr">style</span>: <span class="string">&quot;後印象派&quot;</span>, <span class="attr">image</span>: <span class="string">&quot;Georges_Seurat.jpg&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>: <span class="string">&quot;Paul Signac&quot;</span>, <span class="attr">chinese</span>: <span class="string">&quot;保羅·西涅克&quot;</span>, <span class="attr">years</span>: <span class="string">&quot;1863-1935&quot;</span>, <span class="attr">style</span>: <span class="string">&quot;新印象派&quot;</span>, <span class="attr">image</span>: <span class="string">&quot;Paul_Signac.jpg&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>: <span class="string">&quot;Vincent van Gogh&quot;</span>, <span class="attr">chinese</span>: <span class="string">&quot;梵谷&quot;</span>, <span class="attr">years</span>: <span class="string">&quot;1853-1890&quot;</span>, <span class="attr">style</span>: <span class="string">&quot;後印象派&quot;</span>, <span class="attr">image</span>: <span class="string">&quot;Vincent_van_Gogh.jpg&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>: <span class="string">&quot;Paul Gauguin&quot;</span>, <span class="attr">chinese</span>: <span class="string">&quot;保羅·高更&quot;</span>, <span class="attr">years</span>: <span class="string">&quot;1848-1903&quot;</span>, <span class="attr">style</span>: <span class="string">&quot;後印象派&quot;</span>, <span class="attr">image</span>: <span class="string">&quot;Paul_Gauguin.png&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>: <span class="string">&quot;Paul Cézanne&quot;</span>, <span class="attr">chinese</span>: <span class="string">&quot;保羅·塞尚&quot;</span>, <span class="attr">years</span>: <span class="string">&quot;1839-1906&quot;</span>, <span class="attr">style</span>: <span class="string">&quot;後印象派&quot;</span>, <span class="attr">image</span>: <span class="string">&quot;Paul_Cézanne.jpg&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>: <span class="string">&quot;Pablo Picasso&quot;</span>, <span class="attr">chinese</span>: <span class="string">&quot;巴勃羅·畢加索&quot;</span>, <span class="attr">years</span>: <span class="string">&quot;1881-1973&quot;</span>, <span class="attr">style</span>: <span class="string">&quot;現代主義&quot;</span>, <span class="attr">image</span>: <span class="string">&quot;Pablo_Picasso.jpg&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>: <span class="string">&quot;Henri Matisse&quot;</span>, <span class="attr">chinese</span>: <span class="string">&quot;亨利·馬蒂斯&quot;</span>, <span class="attr">years</span>: <span class="string">&quot;1869-1954&quot;</span>, <span class="attr">style</span>: <span class="string">&quot;野獸派&quot;</span>, <span class="attr">image</span>: <span class="string">&quot;Henri_Matisse.jpg&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>: <span class="string">&quot;Edvard Munch&quot;</span>, <span class="attr">chinese</span>: <span class="string">&quot;愛德華·蒙克&quot;</span>, <span class="attr">years</span>: <span class="string">&quot;1863-1944&quot;</span>, <span class="attr">style</span>: <span class="string">&quot;表現主義&quot;</span>, <span class="attr">image</span>: <span class="string">&quot;Edvard_Munch.jpg&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>: <span class="string">&quot;Gustav Klimt&quot;</span>, <span class="attr">chinese</span>: <span class="string">&quot;古斯塔夫·克林姆&quot;</span>, <span class="attr">years</span>: <span class="string">&quot;1862-1918&quot;</span>, <span class="attr">style</span>: <span class="string">&quot;象徵主義&quot;</span>, <span class="attr">image</span>: <span class="string">&quot;Gustav_Klimt.jpg&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>: <span class="string">&quot;Piet Mondrian&quot;</span>, <span class="attr">chinese</span>: <span class="string">&quot;皮特·蒙德里安&quot;</span>, <span class="attr">years</span>: <span class="string">&quot;1872-1944&quot;</span>, <span class="attr">style</span>: <span class="string">&quot;抽象藝術&quot;</span>, <span class="attr">image</span>: <span class="string">&quot;Piet_Mondrian.jpg&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>: <span class="string">&quot;André Derain&quot;</span>, <span class="attr">chinese</span>: <span class="string">&quot;安德烈·德蘭&quot;</span>, <span class="attr">years</span>: <span class="string">&quot;1880-1954&quot;</span>, <span class="attr">style</span>: <span class="string">&quot;野獸派&quot;</span>, <span class="attr">image</span>: <span class="string">&quot;André_Derain.jpg&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>: <span class="string">&quot;Émile Bernard&quot;</span>, <span class="attr">chinese</span>: <span class="string">&quot;埃米爾·伯納德&quot;</span>, <span class="attr">years</span>: <span class="string">&quot;1868-1941&quot;</span>, <span class="attr">style</span>: <span class="string">&quot;後印象派&quot;</span>, <span class="attr">image</span>: <span class="string">&quot;Émile_Bernard.jpg&quot;</span>&#125;</span></span><br><span class="line"><span class="language-javascript">            ],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">links</span>: [</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Eugène Boudin&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Claude Monet&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;John Constable&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Claude Monet&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;J.M.W. Turner&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Claude Monet&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Gustave Courbet&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Claude Monet&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Claude Monet&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Auguste Renoir&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Claude Monet&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Camille Pissarro&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Claude Monet&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Édouard Manet&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Claude Monet&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Georges Seurat&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Claude Monet&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Paul Signac&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Claude Monet&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Vincent van Gogh&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Claude Monet&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Paul Gauguin&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Claude Monet&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Paul Cézanne&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Édouard Manet&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Paul Cézanne&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Édouard Manet&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Vincent van Gogh&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Paul Cézanne&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Pablo Picasso&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Paul Cézanne&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Henri Matisse&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Vincent van Gogh&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Edvard Munch&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Vincent van Gogh&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Gustav Klimt&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Georges Seurat&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Henri Matisse&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Georges Seurat&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Piet Mondrian&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Paul Signac&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;André Derain&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Paul Signac&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Henri Matisse&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Paul Gauguin&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Émile Bernard&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Paul Gauguin&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Henri Matisse&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Camille Pissarro&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Paul Cézanne&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Camille Pissarro&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Georges Seurat&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Auguste Renoir&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Henri Matisse&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">source</span>: <span class="string">&quot;Auguste Renoir&quot;</span>, <span class="attr">target</span>: <span class="string">&quot;Pablo Picasso&quot;</span>&#125;</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> colorScale = d3.<span class="title function_">scaleOrdinal</span>(d3.<span class="property">schemeCategory10</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> svg = d3.<span class="title function_">select</span>(<span class="string">&quot;svg&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> simulation = d3.<span class="title function_">forceSimulation</span>(data.<span class="property">nodes</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">force</span>(<span class="string">&quot;link&quot;</span>, d3.<span class="title function_">forceLink</span>(data.<span class="property">links</span>).<span class="title function_">id</span>(<span class="function"><span class="params">d</span> =&gt;</span> d.<span class="property">id</span>).<span class="title function_">distance</span>(<span class="number">100</span>))</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">force</span>(<span class="string">&quot;charge&quot;</span>, d3.<span class="title function_">forceManyBody</span>().<span class="title function_">strength</span>(-<span class="number">500</span>))</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">force</span>(<span class="string">&quot;center&quot;</span>, d3.<span class="title function_">forceCenter</span>(width / <span class="number">2</span>, height / <span class="number">2</span>));</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> link = svg.<span class="title function_">append</span>(<span class="string">&quot;g&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">attr</span>(<span class="string">&quot;class&quot;</span>, <span class="string">&quot;links&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">selectAll</span>(<span class="string">&quot;line&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">data</span>(data.<span class="property">links</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">enter</span>().<span class="title function_">append</span>(<span class="string">&quot;line&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">attr</span>(<span class="string">&quot;class&quot;</span>, <span class="string">&quot;link&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">			.<span class="title function_">attr</span>(<span class="string">&quot;marker-end&quot;</span>, <span class="string">&quot;url(#arrow)&quot;</span>);  <span class="comment">// 添加箭頭</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> node = svg.<span class="title function_">append</span>(<span class="string">&quot;g&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">attr</span>(<span class="string">&quot;class&quot;</span>, <span class="string">&quot;nodes&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">selectAll</span>(<span class="string">&quot;g&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">data</span>(data.<span class="property">nodes</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">enter</span>().<span class="title function_">append</span>(<span class="string">&quot;g&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">call</span>(d3.<span class="title function_">drag</span>()</span></span><br><span class="line"><span class="language-javascript">                .<span class="title function_">on</span>(<span class="string">&quot;start&quot;</span>, dragstarted)</span></span><br><span class="line"><span class="language-javascript">                .<span class="title function_">on</span>(<span class="string">&quot;drag&quot;</span>, dragged)</span></span><br><span class="line"><span class="language-javascript">                .<span class="title function_">on</span>(<span class="string">&quot;end&quot;</span>, dragended));</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        node.<span class="title function_">append</span>(<span class="string">&quot;image&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">attr</span>(<span class="string">&quot;xlink:href&quot;</span>, <span class="function"><span class="params">d</span> =&gt;</span> d.<span class="property">image</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">attr</span>(<span class="string">&quot;x&quot;</span>, -<span class="number">25</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">attr</span>(<span class="string">&quot;y&quot;</span>, -<span class="number">25</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">attr</span>(<span class="string">&quot;width&quot;</span>, <span class="number">50</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">attr</span>(<span class="string">&quot;height&quot;</span>, <span class="number">50</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">attr</span>(<span class="string">&quot;clip-path&quot;</span>, <span class="string">&quot;url(#circleClip)&quot;</span>);  <span class="comment">// 使用剪切路徑</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        node.<span class="title function_">append</span>(<span class="string">&quot;text&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">attr</span>(<span class="string">&quot;dy&quot;</span>, <span class="number">35</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">style</span>(<span class="string">&quot;font-size&quot;</span>, <span class="string">&quot;16px&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">style</span>(<span class="string">&quot;font-weight&quot;</span>, <span class="string">&quot;bold&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">style</span>(<span class="string">&quot;text-anchor&quot;</span>, <span class="string">&quot;middle&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">text</span>(<span class="function"><span class="params">d</span> =&gt;</span> d.<span class="property">id</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        node.<span class="title function_">append</span>(<span class="string">&quot;text&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">attr</span>(<span class="string">&quot;dy&quot;</span>, <span class="number">50</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">style</span>(<span class="string">&quot;text-anchor&quot;</span>, <span class="string">&quot;middle&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">text</span>(<span class="function"><span class="params">d</span> =&gt;</span> d.<span class="property">chinese</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        node.<span class="title function_">append</span>(<span class="string">&quot;text&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">attr</span>(<span class="string">&quot;dy&quot;</span>, <span class="number">65</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">style</span>(<span class="string">&quot;text-anchor&quot;</span>, <span class="string">&quot;middle&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">text</span>(<span class="function"><span class="params">d</span> =&gt;</span> d.<span class="property">years</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        node.<span class="title function_">append</span>(<span class="string">&quot;text&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">attr</span>(<span class="string">&quot;dy&quot;</span>, <span class="number">80</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">style</span>(<span class="string">&quot;text-anchor&quot;</span>, <span class="string">&quot;middle&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">style</span>(<span class="string">&quot;fill&quot;</span>, <span class="function"><span class="params">d</span> =&gt;</span> <span class="title function_">colorScale</span>(d.<span class="property">style</span>)) <span class="comment">// 使用顏色比例尺</span></span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">text</span>(<span class="function"><span class="params">d</span> =&gt;</span> d.<span class="property">style</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        simulation.<span class="title function_">on</span>(<span class="string">&quot;tick&quot;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            link</span></span><br><span class="line"><span class="language-javascript">                .<span class="title function_">attr</span>(<span class="string">&quot;x1&quot;</span>, <span class="function"><span class="params">d</span> =&gt;</span> d.<span class="property">source</span>.<span class="property">x</span>)</span></span><br><span class="line"><span class="language-javascript">                .<span class="title function_">attr</span>(<span class="string">&quot;y1&quot;</span>, <span class="function"><span class="params">d</span> =&gt;</span> d.<span class="property">source</span>.<span class="property">y</span>)</span></span><br><span class="line"><span class="language-javascript">                .<span class="title function_">attr</span>(<span class="string">&quot;x2&quot;</span>, <span class="function"><span class="params">d</span> =&gt;</span> d.<span class="property">target</span>.<span class="property">x</span>)</span></span><br><span class="line"><span class="language-javascript">                .<span class="title function_">attr</span>(<span class="string">&quot;y2&quot;</span>, <span class="function"><span class="params">d</span> =&gt;</span> d.<span class="property">target</span>.<span class="property">y</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            node</span></span><br><span class="line"><span class="language-javascript">                .<span class="title function_">attr</span>(<span class="string">&quot;transform&quot;</span>, <span class="function"><span class="params">d</span> =&gt;</span> <span class="string">`translate(<span class="subst">$&#123;d.x&#125;</span>,<span class="subst">$&#123;d.y&#125;</span>)`</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">dragstarted</span>(<span class="params">event, d</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (!event.<span class="property">active</span>) simulation.<span class="title function_">alphaTarget</span>(<span class="number">0.3</span>).<span class="title function_">restart</span>();</span></span><br><span class="line"><span class="language-javascript">            d.<span class="property">fx</span> = d.<span class="property">x</span>;</span></span><br><span class="line"><span class="language-javascript">            d.<span class="property">fy</span> = d.<span class="property">y</span>;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">dragged</span>(<span class="params">event, d</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            d.<span class="property">fx</span> = event.<span class="property">x</span>;</span></span><br><span class="line"><span class="language-javascript">            d.<span class="property">fy</span> = event.<span class="property">y</span>;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">dragended</span>(<span class="params">event, d</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (!event.<span class="property">active</span>) simulation.<span class="title function_">alphaTarget</span>(<span class="number">0</span>);</span></span><br><span class="line"><span class="language-javascript">            d.<span class="property">fx</span> = <span class="literal">null</span>;</span></span><br><span class="line"><span class="language-javascript">            d.<span class="property">fy</span> = <span class="literal">null</span>;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ghwong379.github.io/2024/05/Taiwan-Heritages/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Kala 雞腿堡">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Keep it simple">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Keep it simple">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/05/Taiwan-Heritages/" class="post-title-link" itemprop="url">Taiwan Heritages</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>

      <time title="創建時間：2024-05-09 23:44:43" itemprop="dateCreated datePublished" datetime="2024-05-09T23:44:43+08:00">2024-05-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新於</span>
      <time title="修改時間：2024-11-04 11:18:35" itemprop="dateModified" datetime="2024-11-04T11:18:35+08:00">2024-11-04</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="/hexoblog/images/2024-43.png" alt="upload successful"></p>
<p><img src="/hexoblog/images/2024-44.png" alt="upload successful"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>古蹟地圖<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Leaflet CSS --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://unpkg.com/leaflet/dist/leaflet.css&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Vue.js CDN --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="comment">/* CSS 样式 */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#map</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">30%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">50vh</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.control-panel</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">62%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* 自定義下拉選單樣式 */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">select</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">8px</span> <span class="number">15px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">16px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#f9f9f9</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">transition</span>: border-color <span class="number">0.3s</span> ease;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 增加下拉選單間距 */</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">option</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">8px</span> <span class="number">15px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">16px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">select</span><span class="selector-pseudo">:focus</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">outline</span>: none;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-color</span>: <span class="number">#007bff</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* 自定義 popup 樣式 */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.leaflet-popup-content-wrapper</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">250px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 與 popup 相同寬度 */</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.leaflet-popup-content</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 圖片寬度與 popup 相同 */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 圖片下方間距 */</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* 自定義名稱清單樣式 */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.site-list</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 清除預設 margin */</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.site-list-select</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">8px</span> <span class="number">15px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">16px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#f9f9f9</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">transition</span>: border-color <span class="number">0.3s</span> ease;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* 新增媒體查詢，以適應不同的螢幕尺寸 */</span></span></span><br><span class="line"><span class="language-css">        <span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>) &#123;</span></span><br><span class="line"><span class="language-css">            <span class="selector-id">#map</span> &#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">height</span>: <span class="number">50vh</span>;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">float</span>: none;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.control-panel</span> &#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">float</span>: none;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">padding</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.control-panel</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-tag">select</span>,</span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.site-list-select</span> &#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">30px</span>);</span></span><br><span class="line"><span class="language-css">                <span class="comment">/* 減去 padding 的寬度 */</span></span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.select-group</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">flex-wrap</span>: nowrap;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">justify-content</span>: space-between;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.select-group</span> <span class="selector-tag">select</span> &#123;</span></span><br><span class="line"><span class="language-css">            wwidth: <span class="built_in">calc</span>(<span class="number">40%</span> - <span class="number">5px</span>);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#city-select</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">20%</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#site-select</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">75%</span> - <span class="number">24px</span>);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 左側地圖 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;map&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 右側控制欄 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;control-panel&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>古蹟歷史建築查詢<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 按鈕組 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 資料源選擇 radiobutton 組 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>類型：<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">value</span>=<span class="string">&quot;古蹟&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;selectedDataSource&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;selectDataSource(&#x27;古蹟&#x27;)&quot;</span>&gt;</span>古蹟</span><br><span class="line">                <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">value</span>=<span class="string">&quot;歷史建築&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;selectedDataSource&quot;</span></span></span><br><span class="line"><span class="tag">                        @<span class="attr">change</span>=<span class="string">&quot;selectDataSource(&#x27;歷史建築&#x27;)&quot;</span>&gt;</span>歷史建築</span><br><span class="line">                <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 其他控制項 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;selectedDataSource === &#x27;古蹟&#x27; || selectedDataSource === &#x27;歷史建築&#x27;&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;selectedDataSource === &#x27;古蹟&#x27;&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>古蹟等級：<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">v-for</span>=<span class="string">&quot;level in levels&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;level&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;selectedLevels&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;updateSiteList&quot;</span>&gt;</span>&#123;&#123;</span><br><span class="line">                            level &#125;&#125;</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>種類：<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">v-for</span>=<span class="string">&quot;category in filteredCategories&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;category&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;selectedCategory&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;updateSiteList&quot;</span>&gt;</span>&#123;&#123;</span><br><span class="line">                            category &#125;&#125;</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">&quot;filteredSites.length &gt;= 0&quot;</span>&gt;</span>符合篩選條件的數量：&#123;&#123; filteredSites.length &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;select-group&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;city-select&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>城市：<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;city-select&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;selectedCity&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;updateAddresses&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>全部<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">option</span> <span class="attr">v-for</span>=<span class="string">&quot;city in cityNames&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;city&quot;</span>&gt;</span>&#123;&#123; city &#125;&#125;<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;site-select&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;site-select&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;selectedSite&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;showSiteOnMap&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">option</span> <span class="attr">v-for</span>=<span class="string">&quot;site in filteredSites&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">:value</span>=<span class="string">&quot;site.city + &#x27;_&#x27; + site.category + &#x27;_&#x27; + site.caseName&quot;</span>&gt;</span>&#123;&#123; site.addresses.length &gt; 0 ?</span><br><span class="line">                        site.addresses[0].cityName + &#x27;_&#x27; : &#x27;&#x27; &#125;&#125;&#123;&#123; site.caseName &#125;&#125;<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;selectedSiteDetails&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;selectedSiteDetails.caseUrl&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; selectedSiteDetails.caseName &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">&quot;selectedDataSource === &#x27;古蹟&#x27;&quot;</span>&gt;</span>等級：&#123;&#123; selectedSiteDetails.assetsClassifyName &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">p</span>&gt;</span>類別：&#123;&#123; selectedSiteDetails.assetsTypes.map(type =&gt; type.name).join(&#x27;, &#x27;) &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">p</span>&gt;</span>指定理由：&#123;&#123; selectedSiteDetails.registerReason &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">p</span>&gt;</span>特色1：&#123;&#123; selectedSiteDetails.buildingFeatures &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">p</span>&gt;</span>特色2：&#123;&#123; selectedSiteDetails.inHouseFeatures &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">p</span>&gt;</span>理由：<span class="tag">&lt;<span class="name">quote</span>&gt;</span>&#123;&#123; selectedSiteDetails.judgeCriteria &#125;&#125;<span class="tag">&lt;/<span class="name">quote</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">	</span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-if</span>=<span class="string">&quot;selectedSiteDetails.representImage &amp;&amp; selectedSiteDetails.representImage.transform &amp;&amp; selectedSiteDetails.representImage.transform.c&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">:src</span>=<span class="string">&quot;selectedSiteDetails.representImage.transform.c&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Site Image&quot;</span>&gt;</span> <span class="comment">&lt;!-- 使用 transform c 內的圖片 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;image in selectedSiteDetails.mediaImageList&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;image.url&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>&#123;&#123; image.mediaName &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Leaflet JS --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/leaflet/dist/leaflet.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">selectedDataSource</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">levels</span>: [],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">selectedLevels</span>: [],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">categories</span>: [],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">filteredCategories</span>: [],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">selectedCategory</span>: <span class="string">&#x27;全部&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">sites</span>: [],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">filteredSites</span>: [],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">selectedSite</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">selectedSiteDetails</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">markers</span>: [],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">addresses</span>: [], <span class="comment">// 存儲所有地址的陣列</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">cityNames</span>: [], <span class="comment">// 存儲所有城市名稱的陣列</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">selectedCity</span>: <span class="string">&#x27;&#x27;</span>, <span class="comment">// 選擇的城市名稱</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">filteredAddresses</span>: [] <span class="comment">// 篩選後的地址列表</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 初次載入時選擇古蹟資料源</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">selectedDataSource</span> = <span class="string">&#x27;古蹟&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="title function_">selectDataSource</span>(<span class="string">&#x27;古蹟&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">selectDataSource</span>(<span class="params">sourceName</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">fetch</span>(<span class="string">`<span class="subst">$&#123;sourceName === <span class="string">&#x27;古蹟&#x27;</span> ? <span class="string">&#x27;1.1.json&#x27;</span> : <span class="string">&#x27;1.2.json&#x27;</span>&#125;</span>`</span>) <span class="comment">// 根據選擇的資料源載入對應的 JSON 文件</span></span></span><br><span class="line"><span class="language-javascript">                        .<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> response.<span class="title function_">json</span>())</span></span><br><span class="line"><span class="language-javascript">                        .<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">if</span> (sourceName === <span class="string">&#x27;古蹟&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="variable language_">this</span>.<span class="property">levels</span> = <span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="keyword">new</span> <span class="title class_">Set</span>(data.<span class="title function_">map</span>(<span class="function"><span class="params">site</span> =&gt;</span> site.<span class="property">assetsClassifyName</span>)));</span></span><br><span class="line"><span class="language-javascript">                                <span class="variable language_">this</span>.<span class="property">selectedLevels</span> = <span class="variable language_">this</span>.<span class="property">levels</span>.<span class="title function_">slice</span>(); <span class="comment">// 預設選取所有古蹟等級</span></span></span><br><span class="line"><span class="language-javascript">                            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="comment">// 清空歷史建築的等級選項</span></span></span><br><span class="line"><span class="language-javascript">                                <span class="variable language_">this</span>.<span class="property">selectedLevels</span> = [];</span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                            <span class="variable language_">this</span>.<span class="property">categories</span> = <span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="keyword">new</span> <span class="title class_">Set</span>(data.<span class="title function_">flatMap</span>(<span class="function"><span class="params">site</span> =&gt;</span> site.<span class="property">assetsTypes</span>.<span class="title function_">map</span>(</span></span><br><span class="line"><span class="language-javascript">                                <span class="function"><span class="params">type</span> =&gt;</span> type.<span class="property">name</span>))));</span></span><br><span class="line"><span class="language-javascript">                            <span class="variable language_">this</span>.<span class="property">sites</span> = data;</span></span><br><span class="line"><span class="language-javascript">                            <span class="comment">// 整合所有地址到一個陣列</span></span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">const</span> allAddresses = data.<span class="title function_">flatMap</span>(<span class="function"><span class="params">site</span> =&gt;</span> site.<span class="property">addresses</span>);</span></span><br><span class="line"><span class="language-javascript">                            <span class="variable language_">this</span>.<span class="property">cityNames</span> = <span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="keyword">new</span> <span class="title class_">Set</span>(allAddresses.<span class="title function_">map</span>(<span class="function"><span class="params">address</span> =&gt;</span> address.<span class="property">cityName</span>)));</span></span><br><span class="line"><span class="language-javascript">                            <span class="variable language_">this</span>.<span class="title function_">updateCategories</span>();</span></span><br><span class="line"><span class="language-javascript">                        &#125;)</span></span><br><span class="line"><span class="language-javascript">                        .<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;Error fetching sites:&#x27;</span>, error);</span></span><br><span class="line"><span class="language-javascript">                        &#125;);</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">updateCategories</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">filteredCategories</span> = <span class="variable language_">this</span>.<span class="title function_">filterCategories</span>();</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">selectedCity</span> = <span class="string">&#x27;&#x27;</span>; <span class="comment">// 將城市選項設定為&quot;全部&quot;</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="title function_">updateSiteList</span>(); <span class="comment">// 觸發更新下拉式選項的操作</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">filterCategories</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">categories</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">category</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">selectedLevels</span>.<span class="property">length</span> === <span class="number">0</span> || <span class="variable language_">this</span>.<span class="property">selectedLevels</span>.<span class="title function_">some</span>(<span class="function"><span class="params">level</span> =&gt;</span></span></span><br><span class="line"><span class="language-javascript">                            <span class="variable language_">this</span>.<span class="property">sites</span>.<span class="title function_">some</span>(<span class="function"><span class="params">site</span> =&gt;</span> site.<span class="property">assetsClassifyName</span> === level &amp;&amp; site</span></span><br><span class="line"><span class="language-javascript">                                .<span class="property">assetsTypes</span>.<span class="title function_">some</span>(<span class="function"><span class="params">type</span> =&gt;</span> type.<span class="property">name</span> === category)));</span></span><br><span class="line"><span class="language-javascript">                    &#125;);</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">filterSites</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">sites</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">site</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span> (<span class="variable language_">this</span>.<span class="property">selectedLevels</span>.<span class="property">length</span> === <span class="number">0</span> || <span class="variable language_">this</span>.<span class="property">selectedLevels</span>.<span class="title function_">includes</span>(site</span></span><br><span class="line"><span class="language-javascript">                            .<span class="property">assetsClassifyName</span>)) &amp;&amp;</span></span><br><span class="line"><span class="language-javascript">                            (<span class="variable language_">this</span>.<span class="property">selectedCategory</span> === <span class="string">&#x27;全部&#x27;</span> || site.<span class="property">assetsTypes</span>.<span class="title function_">some</span>(<span class="function"><span class="params">type</span> =&gt;</span> type</span></span><br><span class="line"><span class="language-javascript">                                .<span class="property">name</span> === <span class="variable language_">this</span>.<span class="property">selectedCategory</span>)) &amp;&amp;</span></span><br><span class="line"><span class="language-javascript">                            (<span class="variable language_">this</span>.<span class="property">selectedCity</span> === <span class="string">&#x27;&#x27;</span> || site.<span class="property">addresses</span>.<span class="title function_">some</span>(<span class="function"><span class="params">address</span> =&gt;</span> address.<span class="property">cityName</span> === <span class="variable language_">this</span>.<span class="property">selectedCity</span>));</span></span><br><span class="line"><span class="language-javascript">                    &#125;);</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">updateSiteList</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">filteredSites</span> = <span class="variable language_">this</span>.<span class="title function_">filterSites</span>().<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> (a.<span class="property">caseName</span> &gt; b.<span class="property">caseName</span>) ? <span class="number">1</span> : ((a</span></span><br><span class="line"><span class="language-javascript">                        .<span class="property">caseName</span> &gt; b.<span class="property">caseName</span>) ? -<span class="number">1</span> : <span class="number">0</span>));</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 收集符合篩選條件的城市名稱</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> cities = <span class="variable language_">this</span>.<span class="property">filteredSites</span>.<span class="title function_">map</span>(<span class="function"><span class="params">site</span> =&gt;</span> site.<span class="property">addresses</span>.<span class="title function_">map</span>(<span class="function"><span class="params">address</span> =&gt;</span> address.<span class="property">cityName</span>)).<span class="title function_">flat</span>();</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> uniqueCities = <span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="keyword">new</span> <span class="title class_">Set</span>(cities.<span class="title function_">filter</span>(<span class="function"><span class="params">city</span> =&gt;</span> city !== <span class="string">&#x27;全部&#x27;</span>)));</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 更新城市下拉式選項</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">cityNames</span> = uniqueCities;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">showSiteOnMap</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">markers</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">marker</span> =&gt;</span> map.<span class="title function_">removeLayer</span>(marker));</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> selectedSite = <span class="variable language_">this</span>.<span class="property">sites</span>.<span class="title function_">find</span>(<span class="function"><span class="params">site</span> =&gt;</span> site.<span class="property">city</span> + <span class="string">&#x27;_&#x27;</span> + site.<span class="property">category</span> + <span class="string">&#x27;_&#x27;</span> + site.<span class="property">caseName</span> === <span class="variable language_">this</span>.<span class="property">selectedSite</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (selectedSite) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">const</span> latitude = selectedSite.<span class="property">latitude</span>;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">const</span> longitude = selectedSite.<span class="property">longitude</span>;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">const</span> popupContent = <span class="string">`&lt;h3&gt;<span class="subst">$&#123;selectedSite.caseName&#125;</span>&lt;/h3&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">						 &lt;p&gt;等級：<span class="subst">$&#123;selectedSite.assetsClassifyName&#125;</span>&lt;/p&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">						 &lt;p&gt;類別：<span class="subst">$&#123;selectedSite.assetsTypes.map(type =&gt; type.name).join(<span class="string">&#x27;, &#x27;</span>)&#125;</span>&lt;/p&gt;`</span>;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">const</span> marker = L.<span class="title function_">marker</span>([latitude, longitude]).<span class="title function_">addTo</span>(map).<span class="title function_">bindPopup</span>(popupContent);</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">selectedSiteDetails</span> = selectedSite;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">markers</span>.<span class="title function_">push</span>(marker);</span></span><br><span class="line"><span class="language-javascript">                        map.<span class="title function_">setView</span>([latitude, longitude], <span class="number">16</span>);</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">updateAddresses</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 根據選擇的城市篩選地址</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">filteredAddresses</span> = <span class="variable language_">this</span>.<span class="property">addresses</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">address</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">selectedCity</span> === <span class="string">&#x27;&#x27;</span> || address.<span class="property">cityName</span> === <span class="variable language_">this</span>.<span class="property">selectedCity</span>;</span></span><br><span class="line"><span class="language-javascript">                    &#125;);</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 更新古蹟或歷史建築清單</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="title function_">updateSiteList</span>();</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> map = L.<span class="title function_">map</span>(<span class="string">&#x27;map&#x27;</span>).<span class="title function_">setView</span>([<span class="number">25.03</span>, <span class="number">121.6</span>], <span class="number">14</span>);</span></span><br><span class="line"><span class="language-javascript">        L.<span class="title function_">tileLayer</span>(<span class="string">&#x27;https://&#123;s&#125;.tile.openstreetmap.org/&#123;z&#125;/&#123;x&#125;/&#123;y&#125;.png&#x27;</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">maxZoom</span>: <span class="number">19</span></span></span><br><span class="line"><span class="language-javascript">        &#125;).<span class="title function_">addTo</span>(map);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ghwong379.github.io/2024/05/Unesco-World-Heritage/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Kala 雞腿堡">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Keep it simple">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Keep it simple">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/05/Unesco-World-Heritage/" class="post-title-link" itemprop="url">Unesco World Heritage</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>

      <time title="創建時間：2024-05-09 23:41:48" itemprop="dateCreated datePublished" datetime="2024-05-09T23:41:48+08:00">2024-05-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新於</span>
      <time title="修改時間：2024-11-04 11:18:36" itemprop="dateModified" datetime="2024-11-04T11:18:36+08:00">2024-11-04</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="/hexoblog/images/2024-40.png" alt="upload successful"></p>
<p><img src="/hexoblog/images/2024-41.png" alt="upload successful"></p>
<p><img src="/hexoblog/images/2024-42.png" alt="upload successful"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>UNESCO World Heritage Sites<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.6.4/nouislider.min.css&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://unpkg.com/leaflet/dist/leaflet.css&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="comment">/* CSS 部分 */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#app</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#sites</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">400px</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">flex-wrap</span>: wrap;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">justify-content</span>: space-between;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.site-container</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">flex-wrap</span>: wrap;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">justify-content</span>: space-between;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.site-card</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">33%</span> - <span class="number">10px</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">min-width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">10px</span> <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.site-card</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: auto;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.site-card</span> <span class="selector-class">.rb</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: right;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">0%</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.site-details</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#filters</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">flex</span>: <span class="number">1</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: fixed;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">right</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">360px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">overflow-y</span>: auto;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#f9f9f9</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#slider</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-top</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.custom-select</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">16px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">appearance</span>: none;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 隱藏原生樣式 */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.custom-select</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-color</span>: <span class="number">#999</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.custom-select</span><span class="selector-pseudo">:focus</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">outline</span>: none;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-color</span>: <span class="number">#555</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">85</span>, <span class="number">85</span>, <span class="number">85</span>, <span class="number">0.5</span>);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.rb</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: right;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding-right</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-bottom</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.dangerous-site</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">4px</span> solid red <span class="meta">!important</span>;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 使用 !important 確保樣式生效 */</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;sites&quot;</span> <span class="attr">class</span>=<span class="string">&quot;site-container&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;site in filteredSitesSorted&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;site.name&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">:class</span>=<span class="string">&quot;&#123; &#x27;site-card&#x27;: true, &#x27;dangerous-site&#x27;: site.danger === 1 &#125;&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">:style</span>=<span class="string">&quot;&#123; backgroundColor: getCategoryColor(site.category) &#125;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;showMarker(site)&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;site.pageUrl+&#x27;/gallery&#x27;&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;site.imageUrl&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Site Image&quot;</span> @<span class="attr">error</span>=<span class="string">&quot;handleImageError&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;site-details&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;&#x27;https://whc.unesco.org/zh/list/&#x27; + site.id_number&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>&#123;&#123; site.name &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                    Inscription Year: &#123;&#123; site.inscriptionYear &#125;&#125;</span><br><span class="line">                    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                    Criteria: &#123;&#123; site.criteria &#125;&#125;</span><br><span class="line">                    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;rb&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;&#x27;https://whc.unesco.org/zh/list/?iso=&#x27; + site.isoCode&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>&#123;&#123;</span><br><span class="line">                            site.isoCode &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;&#x27;https://whc.unesco.org/uploads/states/svg/&#x27; + site.isoCode + &#x27;.svg&#x27;&quot;</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">alt</span>=<span class="string">&quot;Site Image&quot;</span> @<span class="attr">error</span>=<span class="string">&quot;handleImageError&quot;</span> <span class="attr">width</span>=<span class="string">30px;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;filters&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h3</span>&gt;</span>Filter by Category<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;selectedCategory&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;filterSites&quot;</span> <span class="attr">class</span>=<span class="string">&quot;custom-select&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>All Categories<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span> <span class="attr">v-for</span>=<span class="string">&quot;category in categories&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;category&quot;</span>&gt;</span>&#123;&#123; category &#125;&#125;<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">h3</span>&gt;</span>Filter by Inscription Year<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;slider&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 篩選條件部分 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;criteria-list&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;selectedCategory !== &#x27;All Categories&#x27;&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">v-for</span>=<span class="string">&quot;romanNumeral in romanNumerals&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;romanNumeral&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;selectedCriteria&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;romanNumeral&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;filterSites&quot;</span>&gt;</span>&#123;&#123;</span><br><span class="line">                    `$&#123;romanNumeral&#125;` &#125;&#125;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;selectedCountries&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;filterSitesByCountry&quot;</span> <span class="attr">class</span>=<span class="string">&quot;custom-select&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>All Countries<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span> <span class="attr">v-for</span>=<span class="string">&quot;country in countries&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;country&quot;</span>&gt;</span>&#123;&#123; country &#125;&#125;<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h3</span> <span class="attr">v-if</span>=<span class="string">&quot;filteredSites.length &gt;= 0&quot;</span>&gt;</span>Filtered Sites: &#123;&#123; filteredSites.length &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;map&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height: 300px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.6.4/nouislider.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/leaflet/dist/leaflet.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">selectedCategory</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">categories</span>: [],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">selectedCriteria</span>: [],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">criteria</span>: &#123;&#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">markers</span>: [],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">filteredSites</span>: [],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">categoryColors</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">natural</span>: <span class="string">&#x27;#daedc2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">cultural</span>: <span class="string">&#x27;#fffbda&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">mixed</span>: <span class="string">&#x27;#cde8e5&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">romanNumerals</span>: [<span class="string">&#x27;(i)&#x27;</span>, <span class="string">&#x27;(ii)&#x27;</span>, <span class="string">&#x27;(iii)&#x27;</span>, <span class="string">&#x27;(iv)&#x27;</span>, <span class="string">&#x27;(v)&#x27;</span>, <span class="string">&#x27;(vi)&#x27;</span>, <span class="string">&#x27;(vii)&#x27;</span>, <span class="string">&#x27;(viii)&#x27;</span>, <span class="string">&#x27;(ix)&#x27;</span>, <span class="string">&#x27;(x)&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">inscriptionYears</span>: [],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">selectedYear</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">selectedCountries</span>: [],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">slider</span>: <span class="literal">null</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">defaultImageUrl</span>: <span class="string">&#x27;null.png&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">countries</span>: [],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">map</span>: <span class="literal">null</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">filteredSitesSorted</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">filteredSites</span>.<span class="title function_">slice</span>().<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> b.<span class="property">inscriptionYear</span> - a.<span class="property">inscriptionYear</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">map</span> = L.<span class="title function_">map</span>(<span class="string">&#x27;map&#x27;</span>).<span class="title function_">setView</span>([<span class="number">44.0258333333</span>, <span class="number">79.0341666667</span>], <span class="number">5</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                L.<span class="title function_">tileLayer</span>(<span class="string">&#x27;https://&#123;s&#125;.tile.openstreetmap.org/&#123;z&#125;/&#123;x&#125;/&#123;y&#125;.png&#x27;</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">attribution</span>: <span class="string">&#x27;&amp;copy; &lt;a href=&quot;https://www.openstreetmap.org/copyright&quot;&gt;OpenStreetMap&lt;/a&gt; contributors&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;).<span class="title function_">addTo</span>(<span class="variable language_">this</span>.<span class="property">map</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> sliderElement = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;slider&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">slider</span> = noUiSlider.<span class="title function_">create</span>(sliderElement, &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">start</span>: [<span class="number">2023</span>, <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getFullYear</span>()],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">connect</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">step</span>: <span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">range</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="string">&#x27;min&#x27;</span>: <span class="number">1978</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="string">&#x27;max&#x27;</span>: <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getFullYear</span>()</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">tooltips</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">format</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">to</span>: <span class="function"><span class="params">value</span> =&gt;</span> <span class="built_in">parseInt</span>(value),</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">from</span>: <span class="function"><span class="params">value</span> =&gt;</span> <span class="built_in">parseInt</span>(value)</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">slider</span>.<span class="title function_">on</span>(<span class="string">&#x27;change&#x27;</span>, <span class="function"><span class="params">values</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">selectedYear</span> = values;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="title function_">filterSitesByYear</span>();</span></span><br><span class="line"><span class="language-javascript">                &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">fetch</span>(<span class="string">&#x27;2024.csv&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">                    .<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> response.<span class="title function_">text</span>())</span></span><br><span class="line"><span class="language-javascript">                    .<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">const</span> sites = <span class="title class_">Papa</span>.<span class="title function_">parse</span>(data, &#123; <span class="attr">header</span>: <span class="literal">true</span> &#125;).<span class="property">data</span>;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">const</span> categorySet = <span class="keyword">new</span> <span class="title class_">Set</span>();</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">const</span> criterionSet = <span class="keyword">new</span> <span class="title class_">Set</span>();</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">const</span> yearSet = <span class="keyword">new</span> <span class="title class_">Set</span>();</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">const</span> countrySet = <span class="keyword">new</span> <span class="title class_">Set</span>();</span></span><br><span class="line"><span class="language-javascript">                        sites.<span class="title function_">forEach</span>(<span class="function"><span class="params">site</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">const</span> category = site[<span class="string">&#x27;category&#x27;</span>];</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">const</span> criteriaText = site[<span class="string">&#x27;criteria_txt&#x27;</span>];</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">const</span> inscriptionYear = <span class="built_in">parseInt</span>(site[<span class="string">&#x27;date_inscribed&#x27;</span>]);</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">const</span> country = site[<span class="string">&#x27;iso_code&#x27;</span>];</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">const</span> danger = <span class="built_in">parseInt</span>(site[<span class="string">&#x27;danger&#x27;</span>]); <span class="comment">// 將 &quot;danger&quot; 的值轉換為數字</span></span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">if</span> (category) &#123;</span></span><br><span class="line"><span class="language-javascript">                                categorySet.<span class="title function_">add</span>(category);</span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">if</span> (criteriaText) &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">const</span> criteria = criteriaText.<span class="title function_">match</span>(<span class="regexp">/\((.*?)\)/g</span>);</span></span><br><span class="line"><span class="language-javascript">                                criteria.<span class="title function_">forEach</span>(<span class="function"><span class="params">criterion</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                                    criterionSet.<span class="title function_">add</span>(criterion);</span></span><br><span class="line"><span class="language-javascript">                                &#125;);</span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">if</span> (!<span class="built_in">isNaN</span>(inscriptionYear)) &#123;</span></span><br><span class="line"><span class="language-javascript">                                yearSet.<span class="title function_">add</span>(inscriptionYear);</span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                            countrySet.<span class="title function_">add</span>(country);</span></span><br><span class="line"><span class="language-javascript">                            <span class="variable language_">this</span>.<span class="property">markers</span>.<span class="title function_">push</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">name</span>: site[<span class="string">&#x27;name_en&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">category</span>: category,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">criteria</span>: criteriaText,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">imageUrl</span>: <span class="string">`https://whc.unesco.org/uploads/sites/site_<span class="subst">$&#123;site.id_no&#125;</span>.jpg`</span> || <span class="variable language_">this</span>.<span class="property">defaultImageUrl</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">pageUrl</span>: site[<span class="string">&#x27;http_url&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">id_number</span>: site[<span class="string">&#x27;id_no&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">inscriptionYear</span>: inscriptionYear,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">latitude</span>: <span class="built_in">parseFloat</span>(site[<span class="string">&#x27;latitude&#x27;</span>]),</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">longitude</span>: <span class="built_in">parseFloat</span>(site[<span class="string">&#x27;longitude&#x27;</span>]),</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">short_description</span>: site[<span class="string">&#x27;short_description&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">isoCode</span>: country,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">danger</span>: danger <span class="comment">// 將 &quot;danger&quot; 的數值存入 markers 中</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;);</span></span><br><span class="line"><span class="language-javascript">                        &#125;);</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">categories</span> = <span class="title class_">Array</span>.<span class="title function_">from</span>(categorySet);</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">criteria</span> = <span class="title class_">Array</span>.<span class="title function_">from</span>(criterionSet).<span class="title function_">reduce</span>(<span class="function">(<span class="params">obj, criterion</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                            obj[criterion] = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">return</span> obj;</span></span><br><span class="line"><span class="language-javascript">                        &#125;, &#123;&#125;);</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">inscriptionYears</span> = <span class="title class_">Array</span>.<span class="title function_">from</span>(yearSet).<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b);</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">countries</span> = <span class="title class_">Array</span>.<span class="title function_">from</span>(countrySet).<span class="title function_">sort</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">filteredSites</span> = <span class="variable language_">this</span>.<span class="property">markers</span>.<span class="title function_">slice</span>();</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">markers</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">marker</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="variable language_">this</span>.<span class="title function_">cacheImage</span>(marker.<span class="property">imageUrl</span>);</span></span><br><span class="line"><span class="language-javascript">                            <span class="variable language_">this</span>.<span class="property">selectedYear</span> = [<span class="number">2023</span>, <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getFullYear</span>()]; <span class="comment">// 選取所有年份範圍</span></span></span><br><span class="line"><span class="language-javascript">                            <span class="variable language_">this</span>.<span class="title function_">filterSitesByYear</span>(); <span class="comment">// 自動應用過濾條件					</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;);</span></span><br><span class="line"><span class="language-javascript">                    &#125;)</span></span><br><span class="line"><span class="language-javascript">                    .<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;Error loading the data:&#x27;</span>, error));</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">filterSites</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">selectedCategory</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">filteredSites</span> = <span class="variable language_">this</span>.<span class="property">markers</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">marker</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span> (!<span class="variable language_">this</span>.<span class="property">selectedYear</span> || (marker.<span class="property">inscriptionYear</span> &gt;= <span class="variable language_">this</span>.<span class="property">selectedYear</span>[<span class="number">0</span>] &amp;&amp; marker.<span class="property">inscriptionYear</span> &lt;= <span class="variable language_">this</span>.<span class="property">selectedYear</span>[<span class="number">1</span>])) &amp;&amp;</span></span><br><span class="line"><span class="language-javascript">                            (!<span class="variable language_">this</span>.<span class="property">selectedCategory</span> || marker.<span class="property">category</span> === <span class="variable language_">this</span>.<span class="property">selectedCategory</span>) &amp;&amp;</span></span><br><span class="line"><span class="language-javascript">                            (!<span class="variable language_">this</span>.<span class="property">selectedCriteria</span>.<span class="property">length</span> || <span class="variable language_">this</span>.<span class="property">selectedCriteria</span>.<span class="title function_">every</span>(<span class="function"><span class="params">criterion</span> =&gt;</span> marker.<span class="property">criteria</span>.<span class="title function_">includes</span>(criterion))) &amp;&amp;</span></span><br><span class="line"><span class="language-javascript">                            (!<span class="variable language_">this</span>.<span class="property">selectedCountries</span>.<span class="property">length</span> || <span class="variable language_">this</span>.<span class="property">selectedCountries</span>.<span class="title function_">includes</span>(marker.<span class="property">isoCode</span>));</span></span><br><span class="line"><span class="language-javascript">                        &#125;);</span></span><br><span class="line"><span class="language-javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">filteredSites</span> = <span class="variable language_">this</span>.<span class="property">markers</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">marker</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span> (!<span class="variable language_">this</span>.<span class="property">selectedYear</span> || (marker.<span class="property">inscriptionYear</span> &gt;= <span class="variable language_">this</span>.<span class="property">selectedYear</span>[<span class="number">0</span>] &amp;&amp; marker.<span class="property">inscriptionYear</span> &lt;= <span class="variable language_">this</span>.<span class="property">selectedYear</span>[<span class="number">1</span>])) &amp;&amp;</span></span><br><span class="line"><span class="language-javascript">                            (!<span class="variable language_">this</span>.<span class="property">selectedCategory</span> || marker.<span class="property">category</span> === <span class="variable language_">this</span>.<span class="property">selectedCategory</span>) &amp;&amp;</span></span><br><span class="line"><span class="language-javascript">                            (!<span class="variable language_">this</span>.<span class="property">selectedCriteria</span>.<span class="property">length</span> || <span class="variable language_">this</span>.<span class="property">selectedCriteria</span>.<span class="title function_">every</span>(<span class="function"><span class="params">criterion</span> =&gt;</span> marker.<span class="property">criteria</span>.<span class="title function_">includes</span>(criterion))) &amp;&amp;</span></span><br><span class="line"><span class="language-javascript">                            (!<span class="variable language_">this</span>.<span class="property">selectedCountries</span>.<span class="property">length</span> || <span class="variable language_">this</span>.<span class="property">selectedCountries</span>.<span class="title function_">includes</span>(marker.<span class="property">isoCode</span>));</span></span><br><span class="line"><span class="language-javascript">                        &#125;);</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">filterSitesByYear</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">filteredSites</span> = <span class="variable language_">this</span>.<span class="property">markers</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">marker</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span> (!<span class="variable language_">this</span>.<span class="property">selectedYear</span> || (marker.<span class="property">inscriptionYear</span> &gt;= <span class="variable language_">this</span>.<span class="property">selectedYear</span>[<span class="number">0</span>] &amp;&amp; marker.<span class="property">inscriptionYear</span> &lt;= <span class="variable language_">this</span>.<span class="property">selectedYear</span>[<span class="number">1</span>])) &amp;&amp;</span></span><br><span class="line"><span class="language-javascript">                            (!<span class="variable language_">this</span>.<span class="property">selectedCategory</span> || marker.<span class="property">category</span> === <span class="variable language_">this</span>.<span class="property">selectedCategory</span>) &amp;&amp;</span></span><br><span class="line"><span class="language-javascript">                            (!<span class="variable language_">this</span>.<span class="property">selectedCriteria</span>.<span class="property">length</span> || <span class="variable language_">this</span>.<span class="property">selectedCriteria</span>.<span class="title function_">every</span>(<span class="function"><span class="params">criterion</span> =&gt;</span> marker.<span class="property">criteria</span>.<span class="title function_">includes</span>(criterion))) &amp;&amp;</span></span><br><span class="line"><span class="language-javascript">                            (!<span class="variable language_">this</span>.<span class="property">selectedCountries</span>.<span class="property">length</span> || <span class="variable language_">this</span>.<span class="property">selectedCountries</span>.<span class="title function_">includes</span>(marker.<span class="property">isoCode</span>));</span></span><br><span class="line"><span class="language-javascript">                    &#125;);</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">filterSitesByCountry</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">filteredSites</span> = <span class="variable language_">this</span>.<span class="property">markers</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">marker</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span> (!<span class="variable language_">this</span>.<span class="property">selectedCountries</span>.<span class="property">length</span> || <span class="variable language_">this</span>.<span class="property">selectedCountries</span>.<span class="title function_">includes</span>(marker.<span class="property">isoCode</span>));</span></span><br><span class="line"><span class="language-javascript">                    &#125;);</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">getCategoryColor</span>(<span class="params">category</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">categoryColors</span>[category.<span class="title function_">toLowerCase</span>()] || <span class="string">&#x27;white&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">showMarker</span>(<span class="params">site</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> marker = <span class="variable language_">this</span>.<span class="property">markers</span>.<span class="title function_">find</span>(<span class="function"><span class="params">marker</span> =&gt;</span> marker.<span class="property">name</span> === site.<span class="property">name</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">map</span>.<span class="title function_">setView</span>([marker.<span class="property">latitude</span>, marker.<span class="property">longitude</span>], <span class="number">3</span>);</span></span><br><span class="line"><span class="language-javascript">                    L.<span class="title function_">marker</span>([marker.<span class="property">latitude</span>, marker.<span class="property">longitude</span>]).<span class="title function_">addTo</span>(<span class="variable language_">this</span>.<span class="property">map</span>)</span></span><br><span class="line"><span class="language-javascript">                        .<span class="title function_">bindPopup</span>(<span class="string">`&lt;b&gt;<span class="subst">$&#123;marker.name&#125;</span>&lt;/b&gt;&lt;br&gt;<span class="subst">$&#123;marker.inscriptionYear&#125;</span>`</span>).<span class="title function_">openPopup</span>();</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">updateCriteria</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 獲取入選年的範圍</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> selectedYearRange = <span class="variable language_">this</span>.<span class="property">selectedYear</span> || [<span class="number">1978</span>, <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getFullYear</span>()];</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 篩選站點，同時考慮類別、入選年和國家</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">selectedCategory</span> === <span class="string">&#x27;All categories&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">// 當類別為 &quot;All categories&quot; 時，清單更新</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">filteredSites</span> = <span class="variable language_">this</span>.<span class="property">markers</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">marker</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">return</span> (!<span class="variable language_">this</span>.<span class="property">selectedCriteria</span>.<span class="property">length</span> || <span class="variable language_">this</span>.<span class="property">selectedCriteria</span>.<span class="title function_">every</span>(<span class="function"><span class="params">criterion</span> =&gt;</span> marker.<span class="property">criteria</span>.<span class="title function_">includes</span>(criterion))) &amp;&amp;</span></span><br><span class="line"><span class="language-javascript">                                (marker.<span class="property">inscriptionYear</span> &gt;= selectedYearRange[<span class="number">0</span>] &amp;&amp; marker.<span class="property">inscriptionYear</span> &lt;= selectedYearRange[<span class="number">1</span>]) &amp;&amp;</span></span><br><span class="line"><span class="language-javascript">                                (!<span class="variable language_">this</span>.<span class="property">selectedCountries</span>.<span class="property">length</span> || <span class="variable language_">this</span>.<span class="property">selectedCountries</span>.<span class="title function_">includes</span>(marker.<span class="property">isoCode</span>));</span></span><br><span class="line"><span class="language-javascript">                        &#125;);</span></span><br><span class="line"><span class="language-javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">// 當類別有特定選項時，按照原有的方式進行篩選</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">filteredSites</span> = <span class="variable language_">this</span>.<span class="property">markers</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">marker</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">return</span> (marker.<span class="property">category</span> === <span class="variable language_">this</span>.<span class="property">selectedCategory</span>) &amp;&amp;</span></span><br><span class="line"><span class="language-javascript">                                (!<span class="variable language_">this</span>.<span class="property">selectedCriteria</span>.<span class="property">length</span> || <span class="variable language_">this</span>.<span class="property">selectedCriteria</span>.<span class="title function_">every</span>(<span class="function"><span class="params">criterion</span> =&gt;</span> marker.<span class="property">criteria</span>.<span class="title function_">includes</span>(criterion))) &amp;&amp;</span></span><br><span class="line"><span class="language-javascript">                                (marker.<span class="property">inscriptionYear</span> &gt;= selectedYearRange[<span class="number">0</span>] &amp;&amp; marker.<span class="property">inscriptionYear</span> &lt;= selectedYearRange[<span class="number">1</span>]) &amp;&amp;</span></span><br><span class="line"><span class="language-javascript">                                (!<span class="variable language_">this</span>.<span class="property">selectedCountries</span>.<span class="property">length</span> || <span class="variable language_">this</span>.<span class="property">selectedCountries</span>.<span class="title function_">includes</span>(marker.<span class="property">isoCode</span>));</span></span><br><span class="line"><span class="language-javascript">                        &#125;);</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">handleImageError</span>(<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    event.<span class="property">target</span>.<span class="property">src</span> = <span class="variable language_">this</span>.<span class="property">defaultImageUrl</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">cacheImage</span>(<span class="params">imageUrl</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> img = <span class="keyword">new</span> <span class="title class_">Image</span>();</span></span><br><span class="line"><span class="language-javascript">                    img.<span class="property">src</span> = imageUrl;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ghwong379.github.io/2024/05/%E5%85%8B%E6%9E%97%E5%A7%86%E7%9A%84%E5%A5%B3%E5%AD%A9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Kala 雞腿堡">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Keep it simple">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Keep it simple">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/05/%E5%85%8B%E6%9E%97%E5%A7%86%E7%9A%84%E5%A5%B3%E5%AD%A9/" class="post-title-link" itemprop="url">克林姆的女孩</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>

      <time title="創建時間：2024-05-09 23:36:16" itemprop="dateCreated datePublished" datetime="2024-05-09T23:36:16+08:00">2024-05-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新於</span>
      <time title="修改時間：2024-11-04 11:18:34" itemprop="dateModified" datetime="2024-11-04T11:18:34+08:00">2024-11-04</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>古斯塔夫·克林姆（Gustav Klimt）的風格啟發，結合了濃郁的裝飾主義和象徵主義元素。畫中的女子穿著以圓形和螺旋形裝飾的服裝，頭戴花朵，手持花束，背景則是一片旋轉的星空和城鎮景觀。這種風格和表現手法使得整幅畫面充滿了夢幻與神秘的氣氛。</p>
<p><img src="/hexoblog/images/2024-36.png" alt="upload successful"></p>
<blockquote>
<p>A low-angle view of a Central European woman, wearing traditional Central European attire with intricate embroidery and patterns. She is depicted in an Art Deco style, seated in a stylized setting that reflects Central European architectural and natural elements, such as ornate buildings, lush gardens, and scenic landscapes. The overall composition blends the geometric and decorative elements of Art Deco with the cultural and artistic heritage of Central Europe, creating a dynamic and elegant visual.</p>
</blockquote>
<p><img src="/hexoblog/images/2024-37.png" alt="upload successful"></p>
<blockquote>
<p>A low-angle view of a Central European woman, wearing traditional Central European attire with intricate embroidery and patterns, depicted as if made of origami. She is seated in a stylized pastoral setting that reflects medieval Central European countryside elements, such as spiral-shaped ornate buildings, lush gardens, and scenic landscapes, all created with an ink wash style. The overall composition blends the delicate and intricate nature of origami with the soft and fluid aesthetics of ink wash painting, creating a unique and elegant visual. The style is Art Nouveau with a vertical aspect ratio.</p>
</blockquote>
<p><img src="/hexoblog/images/2024-38.png" alt="upload successful"></p>
<blockquote>
<p>Inspired by Gustav Klimt’s style, this image features a woman dressed in clothes adorned with circular and spiral decorations. She wears flowers in her hair and holds a bouquet. The background depicts a swirling night sky and a townscape. The composition combines rich decorative and symbolic elements typical of Klimt’s work, with intricate patterns, gold hues, and an overall ethereal, dreamlike atmosphere.</p>
</blockquote>
<p><img src="/hexoblog/images/2024-39.png" alt="upload successful"></p>
<blockquote>
<p>Inspired by Gustav Klimt’s style, this image features Zeus instead of a woman. Zeus is depicted wearing clothes adorned with circular and spiral decorations, with a crown of flowers on his head and holding a lightning bolt. The background depicts a swirling night sky and a townscape. The composition combines rich decorative and symbolic elements typical of Klimt’s work, with intricate patterns, gold hues, and an overall ethereal, dreamlike atmosphere.</p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ghwong379.github.io/2024/04/24%E5%9C%B0%E9%9C%87%E7%B4%80%E9%8C%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Kala 雞腿堡">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Keep it simple">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Keep it simple">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/04/24%E5%9C%B0%E9%9C%87%E7%B4%80%E9%8C%84/" class="post-title-link" itemprop="url">2024地震紀錄</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>

      <time title="創建時間：2024-04-26 16:02:00" itemprop="dateCreated datePublished" datetime="2024-04-26T16:02:00+08:00">2024-04-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新於</span>
      <time title="修改時間：2024-11-04 11:18:36" itemprop="dateModified" datetime="2024-11-04T11:18:36+08:00">2024-11-04</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="/hexoblog/images/2024-35.png" alt="successful"></p>
<h1 id="功能規劃"><a href="#功能規劃" class="headerlink" title="功能規劃"></a>功能規劃</h1><ul>
<li>選擇CSV檔，讀取內容</li>
<li>依據地震深度繪製散點圖，圓點大小及透明度與規模成正比，反向繪製，文字有負號</li>
<li>依據地震分組進行統計，繪製推疊長條圖，並註明數量文字，顯示圖例</li>
<li>兩個圖共用X軸</li>
</ul>
<h1 id="程式學習"><a href="#程式學習" class="headerlink" title="程式學習"></a>程式學習</h1><h2 id="字體"><a href="#字體" class="headerlink" title="字體"></a>字體</h2><p>負號</p>
<blockquote>
<p>plt.rcParams[‘axes.unicode_minus’] &#x3D; False </p>
</blockquote>
<p>中文</p>
<blockquote>
<p>plt.rcParams[‘font.family’] &#x3D; [‘Microsoft JhengHei’]</p>
</blockquote>
<h2 id="子圖配置"><a href="#子圖配置" class="headerlink" title="子圖配置"></a>子圖配置</h2><blockquote>
<p> fig, (ax1, ax2) &#x3D; plt.subplots(2, 1, figsize&#x3D;(10, 8), sharex&#x3D;True, gridspec_kw&#x3D;{‘height_ratios’: [2, 1]})</p>
</blockquote>
<h2 id="使用GPT3-5"><a href="#使用GPT3-5" class="headerlink" title="使用GPT3.5"></a>使用GPT3.5</h2><ol>
<li>CSV為BIG5編碼，第一列為資料時間，第二列為欄位，第三列開始才是資料</li>
<li>遍歷與程式相同路徑之CSV檔，製作下拉示選單，讓使用者選取檔案</li>
<li>依據規模繪製散點圖，反向繪至，圓點大小與規模三次方成正比，圓點透明度與規模成正比</li>
<li>依規模分成六組，每組不同顏色，分別統計地震總數，繪製堆疊長條圖，並在中間顯示地震數量文字</li>
</ol>
<h1 id="程式實作"><a href="#程式實作" class="headerlink" title="程式實作"></a>程式實作</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> tkinter <span class="keyword">import</span> Tk, StringVar, OptionMenu, Button, Label, messagebox</span><br><span class="line"><span class="keyword">from</span> tkinter <span class="keyword">import</span> ttk</span><br><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line"></span><br><span class="line"><span class="comment"># 設置中文字體</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.family&#x27;</span>] = [<span class="string">&#x27;Microsoft JhengHei&#x27;</span>]</span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span> </span><br><span class="line"><span class="comment"># 創建一個 Tkinter 主視窗</span></span><br><span class="line">root = Tk()</span><br><span class="line">root.title(<span class="string">&quot;地震堆疊長條圖與散點圖動畫模擬&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在 Tkinter 主視窗中添加一個字串變數以存儲用戶選擇的 CSV 檔案名稱</span></span><br><span class="line">selected_file = StringVar(root)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在 Tkinter 主視窗中添加一個下拉式選單，顯示所有 CSV 檔案名稱</span></span><br><span class="line">file_label = ttk.Label(root, text=<span class="string">&quot;選擇CSV檔案:&quot;</span>)</span><br><span class="line">file_label.grid(row=<span class="number">0</span>, column=<span class="number">0</span>, padx=<span class="number">10</span>, pady=<span class="number">5</span>)</span><br><span class="line">file_option = OptionMenu(root, selected_file, <span class="string">&quot;&quot;</span>)</span><br><span class="line">file_option.grid(row=<span class="number">0</span>, column=<span class="number">1</span>, padx=<span class="number">10</span>, pady=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 獲取程式所在路徑</span></span><br><span class="line">current_directory = Path(__file__).parent</span><br><span class="line"></span><br><span class="line"><span class="comment"># 獲取程式所在路徑中所有 CSV 檔案的檔案名稱</span></span><br><span class="line">csv_files = [file.name <span class="keyword">for</span> file <span class="keyword">in</span> current_directory.glob(<span class="string">&quot;*.csv&quot;</span>)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 更新下拉式選單中的選項</span></span><br><span class="line">file_option[<span class="string">&#x27;menu&#x27;</span>].delete(<span class="number">0</span>, <span class="string">&#x27;end&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> csv_files:</span><br><span class="line">    file_option[<span class="string">&#x27;menu&#x27;</span>].add_command(label=file, command=<span class="keyword">lambda</span> f=file: selected_file.<span class="built_in">set</span>(f))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定義一個函數，在用戶選擇 CSV 檔案後開始模擬</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">start_animation</span>():</span><br><span class="line">    file_name = selected_file.get()  <span class="comment"># 獲取用戶選擇的 CSV 檔案名稱</span></span><br><span class="line">    file_path = current_directory / file_name  <span class="comment"># 構建選擇的 CSV 檔案的完整路徑</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 讀取選擇的 CSV 檔案</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        earthquake_data = pd.read_csv(file_path, encoding=<span class="string">&#x27;big5&#x27;</span>, parse_dates=[<span class="string">&#x27;地震時間&#x27;</span>], skiprows=[<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        messagebox.showerror(<span class="string">&quot;錯誤&quot;</span>, <span class="string">f&quot;讀取CSV檔案時出現錯誤：<span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 檢查資料集是否為空</span></span><br><span class="line">    <span class="keyword">if</span> earthquake_data.empty:</span><br><span class="line">        <span class="comment"># 若資料集為空，顯示錯誤訊息</span></span><br><span class="line">        messagebox.showerror(<span class="string">&quot;錯誤&quot;</span>, <span class="string">&quot;資料集為空，請選擇有效的 CSV 檔案。&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 分割子圖，上方為堆疊長條圖，下方為散點圖</span></span><br><span class="line">    fig, (ax1, ax2) = plt.subplots(<span class="number">2</span>, <span class="number">1</span>, figsize=(<span class="number">10</span>, <span class="number">8</span>), sharex=<span class="literal">True</span>, gridspec_kw=&#123;<span class="string">&#x27;height_ratios&#x27;</span>: [<span class="number">2</span>, <span class="number">1</span>]&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 計算每日地震規模的加總</span></span><br><span class="line">    daily_total = earthquake_data.groupby(earthquake_data[<span class="string">&#x27;地震時間&#x27;</span>].dt.date)[<span class="string">&#x27;規模&#x27;</span>].<span class="built_in">sum</span>()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 定義規模的分組方式與對應顏色</span></span><br><span class="line">    bins = [<span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">10</span>]</span><br><span class="line">    labels = [<span class="string">&#x27;0-3&#x27;</span>, <span class="string">&#x27;3-4&#x27;</span>, <span class="string">&#x27;4-5&#x27;</span>, <span class="string">&#x27;5-6&#x27;</span>, <span class="string">&#x27;6-10&#x27;</span>]</span><br><span class="line">    colors = [<span class="string">&#x27;#1f77b4&#x27;</span>, <span class="string">&#x27;#ff7f0e&#x27;</span>, <span class="string">&#x27;#2ca02c&#x27;</span>, <span class="string">&#x27;#d62728&#x27;</span>, <span class="string">&#x27;#9467bd&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 計算每日地震次數的堆疊數據</span></span><br><span class="line">    earthquake_data[<span class="string">&#x27;地震分類&#x27;</span>] = pd.cut(earthquake_data[<span class="string">&#x27;規模&#x27;</span>], bins=bins, labels=labels)</span><br><span class="line">    daily_counts = earthquake_data.groupby([earthquake_data[<span class="string">&#x27;地震時間&#x27;</span>].dt.date, <span class="string">&#x27;地震分類&#x27;</span>]).size().unstack(fill_value=<span class="number">0</span>)</span><br><span class="line">    daily_counts_cumsum = daily_counts.cumsum(axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 繪製堆疊長條圖</span></span><br><span class="line">    bottom = np.zeros(<span class="built_in">len</span>(daily_counts_cumsum))</span><br><span class="line">    <span class="keyword">for</span> label, color <span class="keyword">in</span> <span class="built_in">zip</span>(labels, colors):</span><br><span class="line">        ax1.bar(daily_counts_cumsum.index, daily_counts[label], label=<span class="string">f&#x27;規模 <span class="subst">&#123;label&#125;</span>&#x27;</span>, bottom=bottom, color=color)</span><br><span class="line">        bottom += daily_counts[label]</span><br><span class="line">        <span class="comment"># 在每個分段的中間寫上地震總數</span></span><br><span class="line">        <span class="keyword">for</span> i, count <span class="keyword">in</span> <span class="built_in">enumerate</span>(daily_counts[label]):</span><br><span class="line">            ax1.text(daily_counts_cumsum.index[i], bottom[i] - count / <span class="number">2</span>, <span class="built_in">str</span>(count), ha=<span class="string">&#x27;center&#x27;</span>, va=<span class="string">&#x27;center&#x27;</span>, color=<span class="string">&#x27;white&#x27;</span>, fontsize=<span class="number">8</span>, rotation=<span class="number">30</span>)</span><br><span class="line">    ax1.set_ylabel(<span class="string">&#x27;地震次數&#x27;</span>)</span><br><span class="line">    ax1.set_title(<span class="string">&#x27;地震堆疊長條圖&#x27;</span>)</span><br><span class="line">    ax1.grid(<span class="literal">True</span>, linestyle=<span class="string">&#x27;:&#x27;</span>, color=<span class="string">&#x27;gray&#x27;</span>)  <span class="comment"># 添加格線</span></span><br><span class="line">    ax1.legend()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 繪製散點圖</span></span><br><span class="line">    sizes = earthquake_data[<span class="string">&#x27;規模&#x27;</span>] ** <span class="number">3</span>  <span class="comment"># 調整原點大小</span></span><br><span class="line">    alpha = earthquake_data[<span class="string">&#x27;規模&#x27;</span>] / earthquake_data[<span class="string">&#x27;規模&#x27;</span>].<span class="built_in">max</span>()  <span class="comment"># 將透明度與規模成正比    </span></span><br><span class="line">    scatter_plot = ax2.scatter(earthquake_data[<span class="string">&#x27;地震時間&#x27;</span>].dt.date, -earthquake_data[<span class="string">&#x27;深度&#x27;</span>], s=sizes, c=earthquake_data[<span class="string">&#x27;規模&#x27;</span>], cmap=<span class="string">&#x27;coolwarm&#x27;</span>, alpha=<span class="number">0.6</span>)      </span><br><span class="line">    scatter_plot.set_facecolors([colors[labels.index(label)] <span class="keyword">for</span> label <span class="keyword">in</span> earthquake_data[<span class="string">&#x27;地震分類&#x27;</span>]])</span><br><span class="line"></span><br><span class="line">    ax2.set_xlabel(<span class="string">&#x27;日期&#x27;</span>)</span><br><span class="line">    ax2.set_ylabel(<span class="string">&#x27;地震深度&#x27;</span>)</span><br><span class="line">    ax2.set_title(<span class="string">&#x27;地震散點圖&#x27;</span>)</span><br><span class="line">    ax2.grid(<span class="literal">True</span>, linestyle=<span class="string">&#x27;:&#x27;</span>, color=<span class="string">&#x27;gray&#x27;</span>)  <span class="comment"># 添加格線</span></span><br><span class="line">    </span><br><span class="line">    plt.xticks(rotation=<span class="number">45</span>)</span><br><span class="line">    plt.tight_layout()</span><br><span class="line"></span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在 Tkinter 主視窗中添加一個開始鈕，用戶點擊開始鈕後開始模擬</span></span><br><span class="line">start_button = ttk.Button(root, text=<span class="string">&quot;開始動畫&quot;</span>, command=start_animation)</span><br><span class="line">start_button.grid(row=<span class="number">1</span>, column=<span class="number">0</span>, columnspan=<span class="number">2</span>, pady=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 啟動 Tkinter 主迴圈</span></span><br><span class="line">root.mainloop()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ghwong379.github.io/2024/04/%E9%9C%87%E6%A8%A1%E6%93%AC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Kala 雞腿堡">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Keep it simple">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Keep it simple">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/04/%E9%9C%87%E6%A8%A1%E6%93%AC/" class="post-title-link" itemprop="url">地震模擬</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>

      <time title="創建時間：2024-04-16 17:14:00" itemprop="dateCreated datePublished" datetime="2024-04-16T17:14:00+08:00">2024-04-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新於</span>
      <time title="修改時間：2024-11-04 11:18:33" itemprop="dateModified" datetime="2024-11-04T11:18:33+08:00">2024-11-04</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="/hexoblog/images/2024-32.png" alt="successful"></p>
<p><img src="/hexoblog/images/2024-33.png" alt="successful"></p>
<p>資料來源：<a target="_blank" rel="noopener" href="https://scweb.cwb.gov.tw/">https://scweb.cwb.gov.tw/</a></p>
<h1 id="python-version"><a href="#python-version" class="headerlink" title="python version"></a>python version</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> matplotlib.animation <span class="keyword">import</span> FuncAnimation</span><br><span class="line"><span class="keyword">import</span> cartopy.crs <span class="keyword">as</span> ccrs</span><br><span class="line"><span class="keyword">import</span> cartopy.feature <span class="keyword">as</span> cfeature</span><br><span class="line"><span class="keyword">from</span> matplotlib.colors <span class="keyword">import</span> Normalize</span><br><span class="line"><span class="keyword">from</span> matplotlib.font_manager <span class="keyword">import</span> FontProperties</span><br><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"><span class="keyword">from</span> tkinter <span class="keyword">import</span> ttk</span><br><span class="line"><span class="keyword">from</span> tkinter <span class="keyword">import</span> messagebox</span><br><span class="line"><span class="keyword">from</span> tkinter <span class="keyword">import</span> Scale</span><br><span class="line"><span class="keyword">from</span> tkcalendar <span class="keyword">import</span> DateEntry</span><br><span class="line"><span class="keyword">from</span> ttkthemes <span class="keyword">import</span> ThemedStyle</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"><span class="comment"># 設置中文字體</span></span><br><span class="line">font = FontProperties(fname=<span class="string">r&quot;msjh.ttc&quot;</span>, size=<span class="number">12</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定義更新地震數量標籤的函數</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">update_total_earthquakes_label</span>():</span><br><span class="line">    selected_csv = combo.get()</span><br><span class="line">    <span class="keyword">if</span> selected_csv:</span><br><span class="line">        file_path = os.path.join(current_directory, selected_csv)</span><br><span class="line">        data = pd.read_csv(file_path, encoding=<span class="string">&#x27;big5&#x27;</span>, skiprows=[<span class="number">0</span>])</span><br><span class="line">        total_earthquakes = <span class="built_in">len</span>(data)</span><br><span class="line">        total_earthquakes_label.config(text=<span class="string">f&quot;地震總數：<span class="subst">&#123;total_earthquakes&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定義當選擇CSV時的事件處理函數</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">on_csv_select</span>(<span class="params">event</span>):</span><br><span class="line">    <span class="comment"># 當使用者選擇 CSV 檔案時觸發，設定日期選擇器的初始值為該檔案的資料所在月份的第一天</span></span><br><span class="line">    update_title()</span><br><span class="line">    update_total_earthquakes_label()</span><br><span class="line">    update_date_entries()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定義更新視窗標題及日期標籤的函數</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">update_title</span>():</span><br><span class="line">    selected_csv = combo.get()</span><br><span class="line">    <span class="keyword">if</span> selected_csv:</span><br><span class="line">        file_path = os.path.join(current_directory, selected_csv)</span><br><span class="line">        data = pd.read_csv(file_path, encoding=<span class="string">&#x27;big5&#x27;</span>, skiprows=[<span class="number">0</span>])</span><br><span class="line">        min_date = pd.to_datetime(data[<span class="string">&#x27;地震時間&#x27;</span>]).<span class="built_in">min</span>()</span><br><span class="line">        year_month = min_date.strftime(<span class="string">&quot;%Y年%m月&quot;</span>)</span><br><span class="line">        total_earthquakes = <span class="built_in">len</span>(data)</span><br><span class="line">        <span class="comment">#root.title(f&quot;選擇地震數據文件 (&#123;year_month&#125;)&quot;)</span></span><br><span class="line">        root.title(<span class="string">f&quot;選擇地震數據文件 (<span class="subst">&#123;year_month&#125;</span>) - 地震總數：<span class="subst">&#123;total_earthquakes&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定義更新日期選擇器的函數</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">update_date_entries</span>():</span><br><span class="line">    selected_csv = combo.get()</span><br><span class="line">    <span class="keyword">if</span> selected_csv:</span><br><span class="line">        file_path = os.path.join(current_directory, selected_csv)</span><br><span class="line">        data = pd.read_csv(file_path, encoding=<span class="string">&#x27;big5&#x27;</span>, skiprows=[<span class="number">0</span>])</span><br><span class="line">        min_date = pd.to_datetime(data[<span class="string">&#x27;地震時間&#x27;</span>]).<span class="built_in">min</span>()</span><br><span class="line">        max_date = pd.to_datetime(data[<span class="string">&#x27;地震時間&#x27;</span>]).<span class="built_in">max</span>()</span><br><span class="line">        initial_month_first_day = min_date.replace(day=<span class="number">1</span>)</span><br><span class="line">        initial_month_last_day = max_date.replace(day=pd.to_datetime(max_date).days_in_month)</span><br><span class="line">        start_date_entry.set_date(initial_month_first_day)</span><br><span class="line">        end_date_entry.set_date(initial_month_last_day)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定義開始模擬的函數</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">start_simulation</span>():</span><br><span class="line">    file_path = os.path.join(current_directory, combo.get())</span><br><span class="line">    min_depth = depth_scale_min.get()</span><br><span class="line">    max_depth = depth_scale_max.get()</span><br><span class="line">    min_magnitude = magnitude_scale_min.get()</span><br><span class="line">    max_magnitude = magnitude_scale_max.get()</span><br><span class="line">    start_date = pd.to_datetime(start_date_entry.get_date())</span><br><span class="line">    end_date = pd.to_datetime(end_date_entry.get_date())</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 檢查深度範圍是否合理</span></span><br><span class="line">    <span class="keyword">if</span> min_depth &gt; max_depth:</span><br><span class="line">        messagebox.showerror(<span class="string">&quot;錯誤&quot;</span>, <span class="string">&quot;最小深度不能大於最大深度&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 檢查震度範圍是否合理</span></span><br><span class="line">    <span class="keyword">if</span> min_magnitude &gt; max_magnitude:</span><br><span class="line">        messagebox.showerror(<span class="string">&quot;錯誤&quot;</span>, <span class="string">&quot;最小震度不能大於最大震度&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    process_and_display_data(file_path, min_depth, max_depth, min_magnitude, max_magnitude, start_date, end_date)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定義處理並顯示地震資料的函數</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">process_and_display_data</span>(<span class="params">file_path, min_depth, max_depth, min_magnitude, max_magnitude, start_date, end_date</span>):</span><br><span class="line">    earthquake_data = pd.read_csv(file_path, encoding=<span class="string">&#x27;big5&#x27;</span>, skiprows=[<span class="number">0</span>])</span><br><span class="line">    earthquake_data[<span class="string">&#x27;地震時間&#x27;</span>] = pd.to_datetime(earthquake_data[<span class="string">&#x27;地震時間&#x27;</span>])</span><br><span class="line">    earthquake_data = earthquake_data.sort_values(by=<span class="string">&#x27;地震時間&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 過濾地震深度範圍</span></span><br><span class="line">    earthquake_data = earthquake_data[(earthquake_data[<span class="string">&#x27;深度&#x27;</span>] &gt;= min_depth) &amp; (earthquake_data[<span class="string">&#x27;深度&#x27;</span>] &lt;= max_depth)]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 過濾地震震度範圍</span></span><br><span class="line">    earthquake_data = earthquake_data[(earthquake_data[<span class="string">&#x27;規模&#x27;</span>] &gt;= min_magnitude) &amp; (earthquake_data[<span class="string">&#x27;規模&#x27;</span>] &lt;= max_magnitude)]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 過濾日期範圍</span></span><br><span class="line">    earthquake_data = earthquake_data[(earthquake_data[<span class="string">&#x27;地震時間&#x27;</span>] &gt;= start_date) &amp; (earthquake_data[<span class="string">&#x27;地震時間&#x27;</span>] &lt;= end_date)]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 設置畫布和軸</span></span><br><span class="line">    fig, ax = plt.subplots(figsize=(<span class="number">10</span>, <span class="number">8</span>), subplot_kw=&#123;<span class="string">&#x27;projection&#x27;</span>: ccrs.PlateCarree()&#125;)</span><br><span class="line">    ax.set_extent([<span class="number">118</span>, <span class="number">124</span>, <span class="number">20</span>, <span class="number">26</span>])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 添加基本地圖特徵</span></span><br><span class="line">    ax.add_feature(cfeature.LAND, facecolor=<span class="string">&#x27;lightgray&#x27;</span>)</span><br><span class="line">    ax.add_feature(cfeature.OCEAN)</span><br><span class="line">    ax.add_feature(cfeature.BORDERS, linestyle=<span class="string">&#x27;:&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 深度的顏色映射</span></span><br><span class="line">    depth_norm = Normalize(vmin=earthquake_data[<span class="string">&#x27;深度&#x27;</span>].<span class="built_in">min</span>(), vmax=earthquake_data[<span class="string">&#x27;深度&#x27;</span>].<span class="built_in">max</span>())</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 初始化漣漪清單和用於繪製的Scatter物件列表</span></span><br><span class="line">    ripples = []</span><br><span class="line">    scatter_plots = []</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 文本物件用於顯示訊息</span></span><br><span class="line">    msg_text = ax.text(<span class="number">0.02</span>, <span class="number">0.98</span>, <span class="string">&#x27;&#x27;</span>, transform=ax.transAxes, verticalalignment=<span class="string">&#x27;top&#x27;</span>,</span><br><span class="line">                       horizontalalignment=<span class="string">&#x27;left&#x27;</span>, color=<span class="string">&#x27;red&#x27;</span>, fontsize=<span class="number">14</span>, fontproperties=font)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 初始化地震序號和總地震數量</span></span><br><span class="line">    current_quake = <span class="number">0</span></span><br><span class="line">    total_quakes = <span class="built_in">len</span>(earthquake_data)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 創建動畫更新函數</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">update</span>(<span class="params">frame</span>):</span><br><span class="line">        <span class="keyword">nonlocal</span> current_quake</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 移除上一幀的散點</span></span><br><span class="line">        <span class="keyword">for</span> plot <span class="keyword">in</span> scatter_plots:</span><br><span class="line">            plot.remove()</span><br><span class="line">        scatter_plots.clear()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 更新漣漪狀態和標籤</span></span><br><span class="line">        new_ripples = []</span><br><span class="line">        <span class="keyword">for</span> ripple <span class="keyword">in</span> ripples:</span><br><span class="line">            ripple[<span class="string">&#x27;size&#x27;</span>] += ripple[<span class="string">&#x27;growth_rate&#x27;</span>]</span><br><span class="line">            ripple[<span class="string">&#x27;alpha&#x27;</span>] -= <span class="number">0.5</span> / ripple[<span class="string">&#x27;magnitude&#x27;</span>]  <span class="comment"># 震度越大，alpha減少的速度越慢</span></span><br><span class="line">            <span class="keyword">if</span> ripple[<span class="string">&#x27;alpha&#x27;</span>] &gt; <span class="number">0</span>:</span><br><span class="line">                plot = ax.scatter(ripple[<span class="string">&#x27;lon&#x27;</span>], ripple[<span class="string">&#x27;lat&#x27;</span>], s=ripple[<span class="string">&#x27;size&#x27;</span>],</span><br><span class="line">                                  facecolors=<span class="string">&#x27;none&#x27;</span>, edgecolors=plt.cm.viridis(ripple[<span class="string">&#x27;color_norm&#x27;</span>]),</span><br><span class="line">                                  linewidth=<span class="number">2</span>, alpha=ripple[<span class="string">&#x27;alpha&#x27;</span>], transform=ccrs.Geodetic())</span><br><span class="line">                scatter_plots.append(plot)</span><br><span class="line">                new_ripples.append(ripple)</span><br><span class="line">        ripples[:] = new_ripples</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 只有在有新地震資料時才更新消息</span></span><br><span class="line">        <span class="keyword">if</span> frame &lt; <span class="built_in">len</span>(earthquake_data) <span class="keyword">and</span> current_quake &lt; <span class="built_in">len</span>(earthquake_data):</span><br><span class="line">            data = earthquake_data.iloc[current_quake]</span><br><span class="line">            msg = <span class="string">f&quot;地震 <span class="subst">&#123;current_quake + <span class="number">1</span>&#125;</span>/<span class="subst">&#123;total_quakes&#125;</span>: <span class="subst">&#123;data[<span class="string">&#x27;地震時間&#x27;</span>]&#125;</span> (規模 <span class="subst">&#123;data[<span class="string">&#x27;規模&#x27;</span>]&#125;</span>)(深度 <span class="subst">&#123;data[<span class="string">&#x27;深度&#x27;</span>]&#125;</span>)&quot;</span></span><br><span class="line">            msg_text.set_text(msg)</span><br><span class="line">            color_val = depth_norm(data[<span class="string">&#x27;深度&#x27;</span>])</span><br><span class="line">            ripples.append(&#123;</span><br><span class="line">                <span class="string">&#x27;lon&#x27;</span>: data[<span class="string">&#x27;經度&#x27;</span>], <span class="string">&#x27;lat&#x27;</span>: data[<span class="string">&#x27;緯度&#x27;</span>], <span class="string">&#x27;size&#x27;</span>: data[<span class="string">&#x27;規模&#x27;</span>]**<span class="number">2</span> * <span class="number">10</span>,</span><br><span class="line">                <span class="string">&#x27;growth_rate&#x27;</span>: <span class="number">20</span> + data[<span class="string">&#x27;規模&#x27;</span>] * <span class="number">10</span>, <span class="string">&#x27;alpha&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;color_norm&#x27;</span>: color_val,</span><br><span class="line">                <span class="string">&#x27;magnitude&#x27;</span>: data[<span class="string">&#x27;規模&#x27;</span>]  <span class="comment"># 儲存規模以用於計算alpha減少的速率</span></span><br><span class="line">            &#125;)</span><br><span class="line">            current_quake += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 創建動畫</span></span><br><span class="line">    ani = FuncAnimation(fig, update, frames=<span class="built_in">len</span>(earthquake_data) + <span class="number">100</span>, repeat=<span class="literal">False</span>,</span><br><span class="line">                        blit=<span class="literal">False</span>, interval=<span class="number">100</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化 tkinter</span></span><br><span class="line">root = tk.Tk()</span><br><span class="line">root.title(<span class="string">&quot;選擇地震數據文件&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 設置視窗大小為螢幕寬度的一半</span></span><br><span class="line">screen_width = root.winfo_screenwidth()</span><br><span class="line">window_width = screen_width // <span class="number">4</span></span><br><span class="line">root.geometry(<span class="string">f&quot;<span class="subst">&#123;window_width&#125;</span>x480&quot;</span>)  <span class="comment"># 高度設置為 600，你可以根據需要調整</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 ThemedStyle 設置主題</span></span><br><span class="line">style = ThemedStyle(root)</span><br><span class="line">style.set_theme(<span class="string">&quot;breeze&quot;</span>)  <span class="comment"># 選擇主題，這裡使用 &quot;breeze&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 獲取當前腳本的絕對路徑</span></span><br><span class="line">current_script_path = os.path.abspath(__file__)</span><br><span class="line">current_directory = os.path.dirname(current_script_path)</span><br><span class="line">csv_files = [f <span class="keyword">for</span> f <span class="keyword">in</span> os.listdir(current_directory) <span class="keyword">if</span> f.endswith(<span class="string">&#x27;.csv&#x27;</span>)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 創建下拉式選單</span></span><br><span class="line">combo = ttk.Combobox(root, values=csv_files, width=<span class="number">40</span>)</span><br><span class="line">combo.grid(row=<span class="number">0</span>, column=<span class="number">0</span>, padx=<span class="number">10</span>, pady=<span class="number">10</span>, columnspan=<span class="number">2</span>)  <span class="comment"># 使用grid佈局，讓下拉式選單擁有兩列的寬度</span></span><br><span class="line">combo.bind(<span class="string">&quot;&lt;&lt;ComboboxSelected&gt;&gt;&quot;</span>, on_csv_select)  <span class="comment"># 綁定事件</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 創建深度範圍的滑動條元件</span></span><br><span class="line">depth_scale_min = Scale(root, from_=<span class="number">0</span>, to=<span class="number">100</span>, orient=tk.HORIZONTAL, label=<span class="string">&quot;最小深度&quot;</span>, length=<span class="number">200</span>)</span><br><span class="line">depth_scale_min.grid(row=<span class="number">1</span>, column=<span class="number">0</span>, padx=<span class="number">10</span>, pady=<span class="number">10</span>)</span><br><span class="line">depth_scale_max = Scale(root, from_=<span class="number">0</span>, to=<span class="number">100</span>, orient=tk.HORIZONTAL, label=<span class="string">&quot;最大深度&quot;</span>, length=<span class="number">200</span>)</span><br><span class="line">depth_scale_max.grid(row=<span class="number">1</span>, column=<span class="number">1</span>, padx=<span class="number">10</span>, pady=<span class="number">10</span>)</span><br><span class="line">depth_scale_max.<span class="built_in">set</span>(<span class="number">100</span>)  <span class="comment"># 設定最大深度滑桿的初始值為最大值</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 創建震度範圍的滑動條元件</span></span><br><span class="line">magnitude_scale_min = Scale(root, from_=<span class="number">0</span>, to=<span class="number">10</span>, orient=tk.HORIZONTAL, label=<span class="string">&quot;最小震度&quot;</span>, length=<span class="number">200</span>)</span><br><span class="line">magnitude_scale_min.grid(row=<span class="number">2</span>, column=<span class="number">0</span>, padx=<span class="number">10</span>, pady=<span class="number">10</span>)</span><br><span class="line">magnitude_scale_max = Scale(root, from_=<span class="number">0</span>, to=<span class="number">10</span>, orient=tk.HORIZONTAL, label=<span class="string">&quot;最大震度&quot;</span>, length=<span class="number">200</span>)</span><br><span class="line">magnitude_scale_max.grid(row=<span class="number">2</span>, column=<span class="number">1</span>, padx=<span class="number">10</span>, pady=<span class="number">10</span>)</span><br><span class="line">magnitude_scale_max.<span class="built_in">set</span>(<span class="number">10</span>)  <span class="comment"># 設定最大震度滑桿的初始值為最大值</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 創建日期選擇器元件</span></span><br><span class="line">start_date_label = ttk.Label(root, text=<span class="string">&quot;開始日期:&quot;</span>)</span><br><span class="line">start_date_label.grid(row=<span class="number">3</span>, column=<span class="number">0</span>, padx=<span class="number">10</span>, pady=<span class="number">10</span>, sticky=tk.E)  <span class="comment"># 使用grid佈局，並讓文本右對齊</span></span><br><span class="line">start_date_entry = DateEntry(root, width=<span class="number">12</span>, background=<span class="string">&#x27;darkblue&#x27;</span>, foreground=<span class="string">&#x27;white&#x27;</span>, borderwidth=<span class="number">2</span>)</span><br><span class="line">start_date_entry.grid(row=<span class="number">3</span>, column=<span class="number">1</span>, padx=<span class="number">10</span>, pady=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">end_date_label = ttk.Label(root, text=<span class="string">&quot;結束日期:&quot;</span>)</span><br><span class="line">end_date_label.grid(row=<span class="number">4</span>, column=<span class="number">0</span>, padx=<span class="number">10</span>, pady=<span class="number">10</span>, sticky=tk.E)  <span class="comment"># 使用grid佈局，並讓文本右對齊</span></span><br><span class="line">end_date_entry = DateEntry(root, width=<span class="number">12</span>, background=<span class="string">&#x27;darkblue&#x27;</span>, foreground=<span class="string">&#x27;white&#x27;</span>, borderwidth=<span class="number">2</span>)</span><br><span class="line">end_date_entry.grid(row=<span class="number">4</span>, column=<span class="number">1</span>, padx=<span class="number">10</span>, pady=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 創建地震數量標籤</span></span><br><span class="line">total_earthquakes_label = ttk.Label(root, text=<span class="string">&quot;地震總數：&quot;</span>)</span><br><span class="line">total_earthquakes_label.grid(row=<span class="number">5</span>, column=<span class="number">0</span>, columnspan=<span class="number">2</span>, padx=<span class="number">10</span>, pady=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 按鈕觸發模擬</span></span><br><span class="line">btn = ttk.Button(root, text=<span class="string">&quot;開始模擬&quot;</span>, command=start_simulation)</span><br><span class="line">btn.grid(row=<span class="number">6</span>, column=<span class="number">0</span>, columnspan=<span class="number">2</span>, padx=<span class="number">10</span>, pady=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">root.mainloop()</span><br></pre></td></tr></table></figure>

<h1 id="plotly"><a href="#plotly" class="headerlink" title="plotly"></a>plotly</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> plotly.graph_objects <span class="keyword">as</span> go</span><br><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"><span class="keyword">from</span> tkinter <span class="keyword">import</span> ttk</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">process_and_display_data</span>(<span class="params">file_path</span>):</span><br><span class="line">    earthquake_data = pd.read_csv(file_path, encoding=<span class="string">&#x27;big5&#x27;</span>, skiprows=[<span class="number">0</span>])</span><br><span class="line">    earthquake_data[<span class="string">&#x27;地震時間&#x27;</span>] = pd.to_datetime(earthquake_data[<span class="string">&#x27;地震時間&#x27;</span>])</span><br><span class="line">    earthquake_data = earthquake_data.sort_values(by=<span class="string">&#x27;地震時間&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    fig = go.Figure()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> index, row <span class="keyword">in</span> earthquake_data.iterrows():</span><br><span class="line">        fig.add_trace(go.Scattergeo(</span><br><span class="line">            lon=[row[<span class="string">&#x27;經度&#x27;</span>]],</span><br><span class="line">            lat=[row[<span class="string">&#x27;緯度&#x27;</span>]],</span><br><span class="line">            text=<span class="string">f&quot;地震時間: <span class="subst">&#123;row[<span class="string">&#x27;地震時間&#x27;</span>]&#125;</span>&lt;br&gt;規模: <span class="subst">&#123;row[<span class="string">&#x27;規模&#x27;</span>]&#125;</span>&lt;br&gt;深度: <span class="subst">&#123;row[<span class="string">&#x27;深度&#x27;</span>]&#125;</span>&quot;</span>,</span><br><span class="line">            mode=<span class="string">&#x27;markers&#x27;</span>,</span><br><span class="line">            marker=<span class="built_in">dict</span>(</span><br><span class="line">                size=row[<span class="string">&#x27;規模&#x27;</span>] * <span class="number">5</span>,</span><br><span class="line">                color=row[<span class="string">&#x27;深度&#x27;</span>],</span><br><span class="line">                colorscale=<span class="string">&#x27;Viridis&#x27;</span>,</span><br><span class="line">                opacity=<span class="number">0.7</span>,</span><br><span class="line">                colorbar=<span class="built_in">dict</span>(</span><br><span class="line">                    title=<span class="string">&quot;深度&quot;</span></span><br><span class="line">                )</span><br><span class="line">            )</span><br><span class="line">        ))</span><br><span class="line"></span><br><span class="line">    fig.update_geos(</span><br><span class="line">        resolution=<span class="number">110</span>,</span><br><span class="line">        showcoastlines=<span class="literal">True</span>, coastlinecolor=<span class="string">&quot;RebeccaPurple&quot;</span>,</span><br><span class="line">        showland=<span class="literal">True</span>, landcolor=<span class="string">&quot;LightGreen&quot;</span>,</span><br><span class="line">        showocean=<span class="literal">True</span>, oceancolor=<span class="string">&quot;LightBlue&quot;</span>,</span><br><span class="line">        showlakes=<span class="literal">True</span>, lakecolor=<span class="string">&quot;Blue&quot;</span>,</span><br><span class="line">        projection_type=<span class="string">&quot;orthographic&quot;</span>,</span><br><span class="line">        showcountries=<span class="literal">True</span>,</span><br><span class="line">        countrycolor=<span class="string">&quot;Black&quot;</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    fig.update_layout(</span><br><span class="line">        title_text=<span class="string">&#x27;地震數據可視化&#x27;</span>,</span><br><span class="line">        showlegend=<span class="literal">False</span>,</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    fig.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化 tkinter</span></span><br><span class="line">root = tk.Tk()</span><br><span class="line">root.title(<span class="string">&quot;選擇地震數據文件&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 獲取當前腳本的絕對路徑</span></span><br><span class="line">current_script_path = os.path.abspath(__file__)</span><br><span class="line">current_directory = os.path.dirname(current_script_path)</span><br><span class="line">csv_files = [f <span class="keyword">for</span> f <span class="keyword">in</span> os.listdir(current_directory) <span class="keyword">if</span> f.endswith(<span class="string">&#x27;.csv&#x27;</span>)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 創建下拉式選單</span></span><br><span class="line">combo = ttk.Combobox(root, values=csv_files, width=<span class="number">40</span>)</span><br><span class="line">combo.pack(pady=<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 按鈕觸發模擬</span></span><br><span class="line">btn = ttk.Button(root, text=<span class="string">&quot;開始模擬&quot;</span>, command=<span class="keyword">lambda</span>: process_and_display_data(os.path.join(current_directory, combo.get())))</span><br><span class="line">btn.pack(pady=<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">root.mainloop()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" title="下一頁" aria-label="下一頁" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Kala 雞腿堡</span>
  </div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 強力驅動
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="回到頂端">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
